[ { "title": "å¥½çš„å·¥å…·", "url": "/posts/tools/", "categories": "Tool", "tags": "", "date": "2026-01-13 00:00:00 +0800", "snippet": "è‡ªåŠ¨åŒ–å·¥å…· https://github.com/j178/prek Better pre-commit, re-engineered in Rust https://github.com/korandoru/hawkeye Simple license header checker and formatter, in multiple distribution forms. https://github.com/direnv/direnv unclutter your .profile https://github.com/specstoryai/getspecstory Turn your AI development conversations into searchable, shareable knowledge. Jina Reader çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯å°†ä»»æ„ç½‘é¡µè½¬æ¢ä¸º Markdownï¼Œè­¬å¦‚å¦‚æœæƒ³è·å–æ¨ç‰¹çš„æ–‡ç« ï¼Œç›´æ¥æ‹¿éå¸¸éº»çƒ¦ï¼Œè€Œç”¨è¿™ä¸ªæ–¹ä¾¿å¹¶ä¸”çœtokenã€‚ç”¨æ³•:åªéœ€åœ¨URL å‰åŠ ä¸Š r.jina.ai å‰ç¼€å³å¯ https://github.com/Xuanwo/xurl xURL: Client for AI Agents URLsDiagram Excalidraw.com - Drag and drop the .excalidraw file VS Code - Install the Excalidraw extension Obsidian - Use the Excalidraw plugin Claude Code Skills - robtaylor/excalidraw-diagrams å…¶ä»–rust https://github.com/os-checker/os-checker å¯¹ Rust ç¼–å†™çš„ä»£ç è¿è¡Œä¸€ç³»åˆ—æ£€æŸ¥å·¥å…·ï¼Œå¹¶å¯¹ç»“æœè¿›è¡ŒæŠ¥å‘Šå’Œç»Ÿè®¡ https://github.com/release-plz/release-plz Publish Rust crates from CI with a Release PR. https://github.com/cargo-bins/cargo-binstall Binary installation for rust projects. https://github.com/cross-rs/cross â€œZero setupâ€ cross compilation and â€œcross testingâ€ of Rust cratesmisc https://github.com/radareorg/radare2 UNIX-like reverse engineering framework and command-line toolset https://github.com/ast-grep/ast-grep A CLI tool for code structural search, lint and rewriting. Written in Rust https://github.com/rbakbashev/elfcat ELF visualizer. Generates HTML files from ELF binaries. è¯­éŸ³è¾“å…¥æ³•çš„æ¨èæ›´å¤šå·¥å…·è§ï¼š Missing Semester https://x.com/FradSer/status/2018290869301117161TODO: https://codspeed.io/ https://gamma.app/ https://github.com/BoundaryML/baml" }, { "title": "Thoughts and Excerpts on AI-Assisted Programming", "url": "/posts/ai-en/", "categories": "AI", "tags": "AI, Coding", "date": "2025-09-26 00:00:00 +0800", "snippet": "Mindset Future Chatting with VSCode core developer Lu Peng about AI programming, Vibe Coding, and whether programmers will still exist in the future Writing programs is like riding a horse; we are the last generation of horse riders. DHH: Future of Programming, AI, Ruby on Rails, Productivity &amp; Parenting no one knows anything, and you have to then position yourself for the future in such a way that it doesnâ€™t matter. you pick a professional path where if it turns out that you have to retool and re-skill, youâ€™re not gonna regret the path you took. There will be more one-off code in the future. Vibe Coding Vibe-coding is not the same as AI-Assisted engineering. good example of AI-Assisted engineering (not vibe coding actually) Not all AI-assisted programming is vibe coding (but vibe coding rocks) Using â€œVibe codingâ€ to build a real product wonâ€™t work. But itâ€™s great for prototyping. AI wonâ€™t kill software engineering; instead, it makes the old rules of software engineering great again. In the era of AI-assisted programming, automated software testing is becoming increasingly important. Vibe Coding Is Creating Braindead CodersTechSpec-Driven Development https://github.com/github/spec-kitAdvice Study with AI GenAI policy in Berkeley CS 189 2025 Fall &amp; jyy OS 2025 Spring For repetitive or formulaic code, like data visualization, you can directly tell the large model what kind of chart you want and let it generate it for you. But for the core model implementation and algorithm logic, itâ€™s best to write it yourself to greatly enhance your understanding. Source (2025.9.19) Use GPT-5-high for more macro-level planning, and GPT-5-Codex for specific technical implementation. Use git worktree for parallel tasks. Related command-line tool xlaude and its workflow sharing.Prompt (2025.9) How OpenAI uses Codex (2025.8) Claude Code: A Highly Agentic Coding Assistant (2025.7)ã€Official Anthropic Shareã€‘Prompt Engineering Techniques Example of calling Gemini in Claude Code: Q: â€œPlease have gemini-2.5-pro comment on each section, mainly to add content.â€ How is this implemented? Calling other models in the code? A: Example given: gemini -p \"In-depth answer: &lt;question&gt;\" -m gemini-2.5-pro. CC can understand what â€œPlease have gemini-2.5-pro \" means. Feed https://x.com/dotey https://baoyu.io/ AI News Daily ã€rssã€‘Status 2025.9 At the 2025 ICPC World Finals, OpenAIâ€™s general-purpose reasoning system achieved an unprecedented score of 12/12, defeating all human teams. Source 11 problems were solved on the first attempt, and the final, most difficult problem was solved using GPT-5 + an experimental reasoning model. DeepMindâ€™s Gemini 2.5 Deep Think model also performed well, solving 10 out of 12 problems. â€œ70%, 80%, or even 90% of Anthropicâ€™s code is written by Claude. People think this is false because they think it means firing 70%, 80%, or 90% of software engineers, but whatâ€™s really happening is that humans are becoming managers of AI systems.â€ Source " }, { "title": "å¯¹AIè¾…åŠ©ç¼–ç¨‹çš„æ€è€ƒå’Œæ‘˜å½•", "url": "/posts/ai/", "categories": "AI", "tags": "AI, Coding", "date": "2025-09-19 00:00:00 +0800", "snippet": "Mindset Future (2026.1)ã€ç¡…åŸºå¤©å¯ï¼šç­ä¸–ä¹‹æŠ€æœ¯æ¨æ¼” [ChinaSysâ€™25 Winter]ã€‘ã€æ¼”è®²è€…è’‹ç‚å²©çš„åç»­è¡¥å……ã€‘ ä¸‰ä¸ªç ”ç©¶é—®é¢˜å’Œé€šå‘è§£å†³çš„æŠ€æœ¯é€”å¾„ï¼š æ¶ˆç­æ•™å¸ˆçš„ â€œEverything is a state machineâ€ â†’ çŠ¶æ€è¿ç§»/è½¬æ¢ä¸Šè¯¾ï¼› æ¶ˆç­ç å†œçš„ â€œSpec-oriented programmingâ€ â†’ å†™æ··åˆè¯­è¨€æ‰‹å†Œç”Ÿæˆé¡¹ç›®ï¼› æ¶ˆç­å…¨äººç±»çš„ â€œSmall explanation hypothesisâ€ â†’ æšä¸¾è§£é‡Šç”Ÿæˆç»“æœã€‚ (2025.8) å’Œ VSCode æ ¸å¿ƒå¼€å‘å•é¹èŠ AI ç¼–ç¨‹ã€Vibe Codingã€æœªæ¥ç¨‹åºå‘˜è¿˜æ˜¯å¦å­˜åœ¨ å†™ç¨‹åºï½éª‘é©¬çš„äººï¼Œæˆ‘ä»¬æ˜¯æœ€åä¸€ä»£éª‘é©¬çš„äºº (2025.7) DHH: Future of Programming, AI, Ruby on Rails, Productivity &amp; Parenting no one knows anything, and you have to then position yourself for the future in such a way that it doesnâ€™t matter. you pick a professional path where if it turns out that you have to retool and re-skill, youâ€™re not gonna regret the path you took. æœªæ¥ä¼šæœ‰æ›´å¤šçš„ä¸€æ¬¡æ€§ä»£ç ã€‚ Vide Coding (2026.1) ç°çŠ¶ (2025.8) Vibe-coding is not the same as AI-Assisted engineering. (2025.8) good example of AI-Assisted engineering (not vibe coding actullay) (2025.3) Not all AI-assisted programming is vibe coding (but vibe coding rocks) æƒ³ç”¨â€œå‡­æ„Ÿè§‰ç¼–ç¨‹ï¼ˆVibe codingï¼‰â€æ¥æ‰“é€ ä¸€æ¬¾çœŸæ­£çš„äº§å“ï¼Œæ˜¯è¡Œä¸é€šçš„ã€‚ä½†ç”¨å®ƒæ¥åšåŸå‹ï¼Œé‚£ç®€ç›´å¤ªæ£’äº†ã€‚ (2025.9) Vibe Coding Is Creating Braindead Coders AI æ€ä¸æ­»è½¯ä»¶å·¥ç¨‹ï¼Œåè€Œä½¿è½¯ä»¶å·¥ç¨‹çš„é‚£äº›å¤è€è§„åˆ™å†æ¬¡ä¼Ÿå¤§ã€‚ åœ¨ AI è¾…åŠ©ç¼–ç¨‹çš„æ—¶ä»£ï¼Œè‡ªåŠ¨åŒ–è½¯ä»¶æµ‹è¯•æ­£å˜å¾—è¶Šæ¥è¶Šé‡è¦ã€‚ (2025.12) Agent ä¸­çš„â€œè§„åˆ™ vs ç«¯åˆ°ç«¯â€TechAdvice (2026.2) Claude Code æ–°å¢â€è‡ªåŠ¨è®°å¿†â€åŠŸèƒ½ (2026.2) prompt å’Œä»“åº“ç»„ç»‡æŠ€å·§ è·Ÿ Claude Code èŠå®Œä»¥åï¼Œè§‰å¾—ä»–è¯´çš„å¾ˆæœ‰é“ç†ï¼Œæƒ³è®©ä»–è®°å½•åˆ°äº‘ç«¯æˆ–è€…ç¬”è®°é‡Œ ã€æ¥æºã€‘ makenotion/notion-mcp-server leemysw/feishu-docx ğŸŒŸ(2025.12) Standord CS146S: The Modern Software Developer - fa25 (2026.2) Lee Robinson åˆ†äº« Cursor Agent ä¸­éå¸¸å®ç”¨çš„â€œåå¤„ç†ä¼˜åŒ– + æäº¤å‰ç¾åŒ–â€å·¥ä½œæµ mitsuhiko/agent-stuff slopus/happy Mobile and Web client for Codex and Claude Code, with realtime voice, encryption and fully featured (2026.1) å¼•å…¥ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹çš„å°¸æ£€æŠ¥å‘Šï¼ˆPostmortemï¼‰æµç¨‹ã€Postmortems ä»‹ç»ã€‘ (2026.1) ä½¿ç”¨ opencode + code-yeongyu/oh-my-opencode (2025.11) Claude + Codex + Gemini 3åˆ1å…¨æ ˆå·¥ä½œæµ è‡ªåŠ¨åŒ– Claude Code çš„ä½¿ç”¨ï¼šanthropics/claude-agent-sdk-python (2025.11) Effective harnesses for long-running agents anthropics/claude-quickstarts/autonomous-coding anthropics/claude-agent-sdk-demos sdk migration guide é•¿æ—¶é—´è¿è¡Œ Codex/Claude Code çš„æ–¹æ³•ï¼š spec-kit -&gt; ç”Ÿæˆåˆé€‚çš„ task.md Claude Code ç›‘ç£ Codex é€šè¿‡è„šæœ¬ç›‘ç£ claude-code-auto è®© Claude Code 24å°æ—¶æ— é™å·¥ä½œï¼Œè‡ªä¸»å†³ç­–ä¸‹ä¸€æ­¥è¡ŒåŠ¨ã€‚ ç”¨ Warp ä½œä¸ºç¼–æ’å™¨æ¥è°ƒåº¦å¤šä¸ª coding agent Study with AI (2026.1) Coding with AI led to a decrease in masteryâ€”but this depended on how people used it.ã€æ¥æºï¼šAnthropicã€‘ã€Paperã€‘ GenAI policy in Berkeley CS 189 2025 Fall &amp; jyy OS 2025 Spring ä¸€äº›é‡å¤æ€§é«˜æˆ–æ¨¡å¼åŒ–çš„ä»£ç ï¼Œæ¯”å¦‚æ•°æ®å¯è§†åŒ–ï¼Œå¯ä»¥ç›´æ¥å‘Šè¯‰å¤§æ¨¡å‹ä½ æƒ³è¦ä»€ä¹ˆæ ·çš„å›¾ï¼Œè®©å®ƒå¸®ä½ ç”Ÿæˆã€‚ä½†æ ¸å¿ƒçš„æ¨¡å‹å®ç°ã€ç®—æ³•é€»è¾‘ï¼Œæœ€å¥½è¿˜æ˜¯è‡ªå·±äº²æ‰‹å†™ä¸€éï¼Œè¿™æ ·èƒ½å¤§å¤§å¢è¿›ä½ çš„ç†è§£ã€‚ã€æ¥æºã€‘ å¹¶è¡Œä»»åŠ¡ä½¿ç”¨ git worktreeã€‚ ç›¸å…³å‘½ä»¤è¡Œå·¥å…· xlaude åŠå…¶å·¥ä½œæµåˆ†äº«: how I coding - nov 2025 how I coding - oct 2025 how I coding - sept 2025 How I coding (2025.9.30) Claude Sonnet 4.5 èƒ½æ„ŸçŸ¥è‡ªèº«ä¸Šä¸‹æ–‡çª—å£å¹¶å› æ­¤äº§ç”Ÿâ€œç„¦è™‘â€ï¼ˆæ¯”å¦‚è¿‡æ—©æ€»ç»“ã€èµ°æ·å¾„ï¼‰ï¼Œå¯ä»¥å¯ç”¨ä¸€ä¸ªè¿œå¤§äºå®é™…éœ€æ±‚çš„ä¸Šä¸‹æ–‡çª—å£ï¼ˆä¾‹å¦‚ï¼Œå¼€å¯1M tokenå®¹é‡ä½†å°†ä½¿ç”¨ä¸Šé™è®¾ä¸º200kï¼‰ã€‚è¿™èƒ½è®©æ¨¡å‹æ„Ÿè§‰â€œç©ºé—´å……è£•â€ï¼Œä»è€Œé¿å…å…¶å› æ‹…å¿ƒè¶…å‡ºé™åˆ¶è€Œé™ä½å·¥ä½œè¡¨ç°ã€‚ã€æ¥æºã€‘ (2025.9.19) ä½¿ç”¨ GPT-5-high åšè¾ƒå®è§‚çš„è§„åˆ’ï¼Œç”¨ GPT-5-Codex è¿›è¡Œå…·ä½“æŠ€æœ¯å®ç°ã€‚Interesting stuff (2026.1) æœ¬åœ° Claude Code è¿œç¨‹è¿æ¥ Colabï¼Œä½¿ç”¨ Colab GPU åšå®éªŒã€‚ã€æ¥æºã€‘ContextContext Engineering ğŸŒŸGetting AI to Work in Complex Codebases (2025.6) How Long Contexts Fail (2025.6) How to Fix Your Context Prompt System prompt Custom system prompt: codex gemini system-prompts-and-models-of-ai-tools (2025.12) Good System prompt from google Claude Code æ¯ä¸€ä¸ªç‰ˆæœ¬çš„ Prompt å˜åŒ–è·Ÿè¸ª claude-4-best-practices (2025.11) Writing a good CLAUDE.md (2025.11) Prompting guide for Claude Opus 4.5 (2025.11) Context Caching (2025.9) Context engineering (2025.9) How OpenAI uses Codexã€ä¸­æ–‡ç¿»è¯‘ã€‘ (2025.8) Claude Code: A Highly Agentic Coding Assistant (2025.7)ã€Anthropicå®˜æ–¹åˆ†äº«ã€‘Promptæç¤ºè¯å·¥ç¨‹æŠ€å·§åˆ†äº« åœ¨ Claude Code ä¸­è°ƒç”¨ Gemini çš„ç¤ºä¾‹ï¼š Q: â€œè¯· gemini-2.5-pro è¯„è®ºä¸€ä¸‹å„èŠ‚ï¼Œä¸»è¦æ˜¯è¦å¢åŠ å†…å®¹ â€œè¿™æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿåœ¨codeé‡Œè°ƒç”¨å…¶ä»–æ¨¡å‹ï¼ŸA: ç»™å‡ºç¤ºä¾‹ gemini -p â€œæ·±å…¥å›ç­”ï¼š&lt;è¦é—®çš„é—®é¢˜&gt;â€ -m gemini-2.5-proã€‚ CC èƒ½çœ‹æ‡‚å¹¶çŸ¥é“ä»€ä¹ˆå«â€è¯· gemini-2.5-proâ€&lt;è¦é—®çš„é—®é¢˜&gt; Spec-Driven Development Fission-AI/OpenSpec github/spec-kit (2025.11) The Limits of Spec-Driven Development (2026.2) è§„èŒƒé©±åŠ¨å¼€å‘é”™åœ¨å“ªäº† ä½† â€œspecæ²¡é—®é¢˜ï¼Œspecæ˜¯ç»™ä½ è‡ªå·±çœ‹çš„ï¼Œä¸æ˜¯ç»™aiçœ‹çš„ï¼Œæå‰æŠŠé‡è¦å†³ç­–è®¨è®ºå¥½ï¼Œå¼€å‘çš„æ—¶å€™æƒ³ä¸èµ·æ¥äº†è®©AIå»æŸ¥ä¸€ä¸‹å½“åˆçš„å†³å®šå’ŒåŸå› ã€‚ä¸å¯èƒ½å¤§å°äº‹å…¨éƒ½ä¸´æ—¶æ‹è„‘è¢‹å†³å®šã€‚è¿‡åº¦è§„åˆ’åœ¨å¤æ‚ç³»ç»Ÿé‡Œå¸¸å¸¸æ— æ•ˆï¼Œä½†å®Œå…¨ä¸è§„åˆ’å°±æˆäº†è¿›åŒ–çš„ç‚®ç°äº†ã€‚â€ ExtensionsMCP Chrome devTools MCPã€(2026.2) æ›¿ä»£æ–¹å¼ã€‘Skills (2026.1) A complete guide to building skills for Claude Agent Skills MarketplaceÂ z (2026.2) å››ä¸ª skills æ¨è https://github.com/2389-research/claude-plugins/tree/main/binary-re https://news.ycombinator.com/item?id=46882389 (2026.1) ä¸º AI Coding Agent æä¾›æ¡†æ¶çŸ¥è¯†æ—¶ï¼Œç®€å•è¢«åŠ¨çš„ä¸Šä¸‹æ–‡æ–‡ä»¶ã€ŒAGENTS. mdã€æ¯”å¤æ‚çš„ã€ä¸»åŠ¨è°ƒç”¨çš„ã€ŒSkillsã€æ›´æœ‰æ•ˆ ã€æ¥æºï¼šVercelã€‘ (2026.1) MCP å’Œ Skills åˆ°åº•ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸€ç¯‡æ–‡ç« è¯´æ¸…æ¥š Skills for Claude Code Claude Skills ComposioHQ/awesome-claude-skills (2025.11) å¦‚ä½•åœ¨ Codex CLI é‡Œé¢ç”¨ SKILLs VoltAgent/awesome-claude-skills react-best-practices ZhangHanDong/rust-skillsã€æ–‡ç« ã€‘ numman-ali/openskillsAgent (2026.1) Agent æ¡†æ¶æ¯”è¾ƒ (2026.1) Pi: The Minimal Agent Within OpenClaw (2026.2) Anthropic Agent æ¶æ„å‡çº§ï¼šTool Calling 2.0 (2026.1) ä¸ºä»€ä¹ˆ Claude Code ä¸ç”¨ RAG å‘é‡æ£€ç´¢ä»£ç ï¼šAgent ä½¿ç”¨å…³é”®å­—æœç´¢åœ¨å®é™…åº”ç”¨ä¸­çš„è¡¨ç°é€šå¸¸è¦å‡ºè‰²å¾—å¤šã€‚è¿™ç§æ–¹æ¡ˆä¸ä»…å®ç°èµ·æ¥æ›´åŠ ç®€æ´ï¼Œè€Œä¸”è¿˜å®Œç¾é¿å¼€äº† RAG æ¨¡å¼ä¸‹é‚£äº›ä»¤äººå¤´ç–¼çš„â€œè€æ¯›ç—…â€ï¼šæ¯”å¦‚æ•°æ®å®‰å…¨æ€§ã€éšç§æ³„éœ²é£é™©ã€ä¿¡æ¯æ»åä»¥åŠç³»ç»Ÿå¯é æ€§ç­‰é—®é¢˜ã€‚ Ralph Loop How Ralph Works (2026.1) Anthropic: Demystifying evals for AI agentsã€ä¸­æ–‡æ€»ç»“ã€‘ (2025.12) AIs can exploit blockchain smart contracts (2025.11) Agent design is still hardã€blogã€‘ã€ä¸­æ–‡æ‘˜è¦ã€‘ (2025.10) Agentçš„æ„ä¹‰ï¼šä»¥ç™¾åº¦ FM (ä¼è°‹) Agent å’Œ MLE-Bench ä¸ºä¾‹ã€é“¾æ¥ã€‘ã€‚èµ„æ–™æ±‡æ€»ï¼š ã€Šæ™ºèƒ½ä½“è®¾è®¡æ¨¡å¼ã€‹ç³»ç»Ÿæ€§åœ°æç‚¼å‡º 21 ä¸ªæ ¸å¿ƒæ™ºèƒ½ä½“è®¾è®¡æ¨¡å¼ï¼Œæ¶µç›–ä»æç¤ºé“¾ã€å·¥å…·ä½¿ç”¨åˆ°å¤šæ™ºèƒ½ä½“åä½œã€è‡ªæˆ‘ä¿®æ­£ç­‰å…³é”®æŠ€æœ¯ã€‚ Lovable å®˜æ–¹çš„ Prompting 1.1 æ‰‹å†Œ (2025.10) opencamp: 2025 ç¬¬ä¸€æœŸ AI åº”ç”¨å¼€å‘è®­ç»ƒè¥ï¼Œæ ¹æ®å¼€æºå®éªŒæé«˜ AI åº”ç”¨å¼€å‘èƒ½åŠ› (2025.9) Datawhale è¯¾ç¨‹ã€ŠåŠ¨æ‰‹å­¦Agentåº”ç”¨å¼€å‘ã€‹ é”¦æ¢çš„çŸ¥ä¹ä¸“æ ã€ŠAI Agent å¼€å‘æŒ‡å—ã€‹ OpenMCP å®˜æ–¹æ–‡æ¡£ã€ŠMCP æœåŠ¡å™¨å¼€å‘æ¡ˆä¾‹ã€‹ModelBenchmark: METRè‡ªåŠ¨åŒ–éªŒè¯ (2025.11) åŸºäº Java çš„ AI è‡ªåŠ¨åŒ–éªŒè¯å®è·µï¼ˆæ·˜å¤©é›†å›¢-ç”¨æˆ·æ¶ˆæ¯ä¸ç¤¾äº¤å›¢é˜Ÿï¼‰ (2025.10) AI æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆçš„å®è·µï¼ˆå¤©çŒ«ï¼‰Feed ai-that-worksã€Youtubeã€‘ Simon Willisonâ€™s Weblog AI èµ„æº/è¯„æµ‹ https://x.com/dotey https://baoyu.io/ AIèµ„è®¯æ—¥æŠ¥ ã€rssã€‘ Hacker News ä¸Šæœ€å—æ¬¢è¿çš„ 92 ä¸ªåšå®¢åˆ—è¡¨Status 2026.1 â€œThe profession is being dramatically refactoredâ€(Andrej Karpathy) â€œHaving agents write 90%+ of the codeâ€(DHH) Claude Code æ–°ç‰ˆå…¨éƒ¨éƒ½æ˜¯ç”± Claude Code å†™çš„ä»£ç ã€‚â€It was not zero intervention! We had to plan, design, and go back and forth with Claude. Claude wrote all the code.â€(Boris Cherny, Claude Code åˆ›é€ è€…) Given Claude Code a description of the problem, â€œit generated what we built last year in an hour. Itâ€™s not perfect and Iâ€™m iterating on it but this is where we are right now. If you are skeptical of coding agents, try it on a domain you are already an expert of. Build something complex from scratch where you can be the judge of the artifacts.â€(Jaana Dogan, Principal Engineer at Google) 2025.9 åœ¨ 2025 å¹´ ICPC ä¸–ç•Œæ€»å†³èµ›ä¸­ï¼ŒOpenAI çš„é€šç”¨æ¨ç†ç³»ç»Ÿå®ç°äº†å‰æ‰€æœªæœ‰çš„æˆç»©â€”â€”æ»¡åˆ† 12/12ï¼Œå‡»è´¥äº†æ‰€æœ‰äººç±»å‚èµ›é˜Ÿä¼ã€‚ã€æ¥æºã€‘ å…¶ä¸­11é¢˜ä¸€æ¬¡é€šè¿‡ï¼Œæœ€åä¸€é“æœ€éš¾é¢˜ä½¿ç”¨ GPT-5 + å®éªŒæ€§æ¨ç†æ¨¡å‹è§£å‡ºã€‚ DeepMind çš„ Gemini 2.5 Deep Think æ¨¡å‹ä¹Ÿè¡¨ç°å‡ºè‰²ï¼ŒæˆåŠŸè§£å‡º12é¢˜ä¸­çš„10é¢˜ã€‚ â€œAnthropic 70%ã€80% ç”šè‡³ 90% çš„ä»£ç éƒ½æ˜¯ç”± Claude ç¼–å†™çš„ã€‚äººä»¬è®¤ä¸ºè¿™æ˜¯å‡çš„ï¼Œå› ä¸ºä»–ä»¬è§‰å¾—è¿™æ„å‘³ç€è¦è§£é›‡ 70%ã€80% æˆ– 90% çš„è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œä½†çœŸæ­£å‘ç”Ÿçš„æ˜¯ï¼Œäººç±»å˜æˆäº† AI ç³»ç»Ÿçš„ç®¡ç†è€…ã€‚â€ ã€æ¥æºã€‘ " }, { "title": "å…³äºå­¦ä¹ ", "url": "/posts/study/", "categories": "Study", "tags": "Study", "date": "2025-08-20 00:00:00 +0800", "snippet": "Map https://www.zhihu.com/people/L.M.Sherlock è‡ªä¸»å­¦ä¹  å„ç§é¢†åŸŸå­¦ä¹ çš„æ–¹æ³•çš„ç¿»è¯‘é›†åˆ Factsçº¦ç¿°Â·é‚“æ´›æ–¯åŸºï¼ˆJohn Dunloskyï¼‰ä¸ºé¦–çš„äº”ä½è‘—åå¿ƒç†å­¦å®¶åœ¨2013å¹´ç³»ç»Ÿæ€§åœ°è¯„ä¼°äº†åç§å¸¸è§çš„å­¦ä¹ æ–¹æ³•ï¼Œå¹¶æ ¹æ®è¯æ®çš„å¼ºåº¦å°†å…¶åˆ†ä¸ºé«˜æ•ˆã€ä¸­æ•ˆå’Œä½æ•ˆä¸‰ç±»ã€pdfã€‘ã€talk with geminiã€‘ï¼š æ•ˆèƒ½ç­‰çº§ å­¦ä¹ æ–¹æ³• æ ¸å¿ƒç†å¿µ é«˜æ•ˆ 1. ç»ƒä¹ æµ‹è¯• (Practice Testing) ä¸»åŠ¨æå–ä¿¡æ¯ï¼Œè€Œéè¢«åŠ¨è¾“å…¥ é«˜æ•ˆ 2. åˆ†æ•£å¼å­¦ä¹  (Distributed Practice) é—´éš”å¤ä¹ ï¼Œå¯¹æŠ—é—å¿˜æ›²çº¿ ä¸­æ•ˆ 3. ç²¾ç»†åŒ–æé—® (Elaborative Interrogation) é€šè¿‡é—®ä¸ºä»€ä¹ˆï¼Œå»ºç«‹çŸ¥è¯†è¿æ¥ ä¸­æ•ˆ 4. è‡ªæˆ‘è§£é‡Š (Self-Explanation) ç”¨è‡ªå·±çš„è¯è§£é‡Šï¼Œç›‘æ§ç†è§£ ä¸­æ•ˆ 5. äº¤å‰å­¦ä¹  (Interleaved Practice) æ··åˆç»ƒä¹ ä¸åŒä¸»é¢˜ï¼Œæå‡è¿ç§»èƒ½åŠ› ä½æ•ˆ 6. æ€»ç»“ (Summarization) æŠ€å·§è¦æ±‚é«˜ï¼Œæ˜“æ²¦ä¸ºæ— æ•ˆæ‘˜æŠ„ ä½æ•ˆ 7. åˆ’çº¿/æ ‡äº® (Highlighting/Underlining) è¢«åŠ¨è¡Œä¸ºï¼Œæ˜“äº§ç”Ÿå­¦ä¹ é”™è§‰ ä½æ•ˆ 8. å…³é”®è¯åŠ©è®°æ³• (Keyword Mnemonic) é€‚ç”¨èŒƒå›´æçª„ï¼Œè”æƒ³è„†å¼± ä½æ•ˆ 9. æ–‡æœ¬æ„è±¡åŒ– (Imagery for Text) ä»…é€‚ç”¨äºæ˜“äºè§†è§‰åŒ–çš„å†…å®¹ ä½æ•ˆ 10. åå¤é˜…è¯» (Rereading) æœ€æ˜“äº§ç”Ÿå­¦ä¹ é”™è§‰çš„è¢«åŠ¨æ–¹æ³• Anki Workflow Anki çŸ¥ä¹çŸ¥è¯†åº“-çŸ¥è¯†è¡¨è¿°ä¸åˆ¶å¡åŸåˆ™ Obsidian Obsidian_to_Anki AI prompt for making flashcardsReference é—´éš”é‡å¤ã€äº¤é”™ç»ƒä¹ ã€æµ‹è¯•æ•ˆåº”çš„ç§‘å­¦ä¾æ®" }, { "title": "ã€è½¬è½½ã€‘mockä¸ƒå®—ç½ª", "url": "/posts/mock/", "categories": "Test", "tags": "Test", "date": "2024-07-06 00:00:00 +0800", "snippet": " è½¬è½½è€…æ³¨ï¼šåŸæ–‡æ‰€åœ¨çš„gitchatç°åœ¨å·²ç»æ‰“ä¸å¼€äº†ï¼Œè™½æœä¸åˆ°ä»»ä½•å€’é—­çš„æ¶ˆæ¯ï¼Œä½†appå·²ç»ä¸å­˜åœ¨äº†ï¼Œ23å¹´åä¹Ÿæ²¡ä»»ä½•æ–°é—»äº†ã€‚ç½‘é¡µåœ°å€ä¼šé‡å®šå‘åˆ°CSDNï¼Œä½†åˆæ— æ³•åœ¨CSDNä¸Šæœç´¢åˆ°å…¨æ–‡çš„é“¾æ¥å’Œè‚–é¹çš„è´¦æˆ·ã€‚ä»äº’è”ç½‘å½’æ¡£ç½‘ç«™ä¸ŠæŸ¥çœ‹äº†å†å²ä¹Ÿåªèƒ½çœ‹åˆ°å‰è¨€æˆ–è€…ç®€ä»‹ã€‚æ‰€å¹¸ï¼Œä»ä¸€ä¸ªèµ„æ–™ç½‘ç«™ä¸Šæ‰¾åˆ°æœ‰äººä¸Šä¼ çš„â€œæ ¼å¼æ„Ÿäººï¼Œä½†å†…å®¹éƒ½ä¿ç•™ä¸‹æ¥â€çš„pdfç‰ˆæœ¬ï¼Œä»˜è´¹10å…ƒä¹°ä¹‹ï¼Œå¹¶ç®€å•é‡æ–°æ’ç‰ˆåå¤‡ä»½å­˜æ¡£ï¼Œä¸€äº›å°é”™è¯¯å°±ä¸å†è´¹å¿ƒäº†ï¼ˆè«åå…¶å¦™çš„ç©ºç™½ï¼Œä¸¢é“¾æ¥ï¼Œwarehouseå˜æˆäº†wa houseï¼‰ã€‚ä½œè€…ï¼šè‚–é¹ï¼ŒADPæŠ€æœ¯ä¸è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆï¼Œå‰ThoughtWorksæŒç»­äº¤ä»˜ä¸­å›½åŒºLeadã€‚ç›®å‰ä¸“æ³¨äºå“åº”å¼ç¼–ç¨‹ï¼Œä»¥åŠä¼ä¸šç³»ç»Ÿé›†æˆä¸å®¹å™¨åŒ–ã€‚Mockå¤©è™¹å¤§é…’åº—2å±‚å°ä¼šè®®å®¤é—¨å‰ï¼Œæˆ‘çœ‹äº†çœ‹è¡¨1ç‚¹59åˆ†ã€‚æ•æ·å¤§ä¼šè®²å¸ˆè®ºå›ï¼Œä¸‹åˆæˆ‘ç¬¬ä¸€ä¸ªå‘è¨€ï¼Œé¢˜ç›®æ˜¯â€œä½ ç”¨é”™äº†Mockâ€ã€‚æˆ‘èµ°è¿›ä¼šè®®å®¤çš„ä¸€ç¬é—´ï¼Œæ¸…æ™°åœ°æ„Ÿè§‰åˆ°äº†å„ä½è®²æ“¦æŒå‡†å¤‡æŠŠæˆ‘æ‰¹ä¸ªä½“æ— å®Œè‚¤ã€‚â€œåœ¨æˆ‘å¼€å§‹å‘è¨€ä¹‹å‰ï¼Œæˆ‘æƒ³å¼ºè°ƒä¸€ä¸‹æˆ‘ä¸æ˜¯é’ˆå¯¹åœ¨åº§çš„å“ªä¸€ä½ã€‚â€æˆ‘è¯´é“ï¼Œâ€œæˆ‘æ˜¯è¯´æˆ‘ä»¬æ¯ä¸ªäººéƒ½ç”¨é”™äº†ã€‚â€æˆ‘åšåŸ¹è®­çš„æ—¶å€™ç»å¸¸åœ¨å¼€å§‹ç©ä¸€ä¸ªè‡ªåˆ›çš„æ¸¸æˆã€‚é¦–å…ˆæˆ‘ä¸€æ®µï¼Œé‡Œé¢æˆ‘ç”¨æ‰‹æŒ‡æœ‰èŠ‚å¥çš„æ•²æ¡Œå­ã€‚ç„¶åè®©å¬ä¼—çŒœæˆ‘æ•²å‡»çš„èŠ‚å¥æ˜¯æ¥è‡ªäºé‚£é¦–æ­Œã€‚å¬ä¼—è¢«åˆ†æˆä¸¤ç»„ï¼Œä¸€ç»„å®Œå…¨ç›²å¬ï¼Œç¬¬äºŒç»„çŸ¥é“è¿™é¦–æ­Œæ˜¯ã€Šç¥ä½ ç”Ÿæ—¥å¿«ä¹ã€‹ã€ã€Šã€‹ã€ã€Šå–æŠ¥æ­Œã€‹ä¸­çš„ä¸€é¦–ã€‚æˆ‘åšè¿‡å¾ˆå¤šæ¬¡å®éªŒï¼Œç¬¬äºŒç»„å¤§æ¦‚æœ‰80%ä»¥ä¸Šçš„å‡ ç‡çŒœå¯¹ï¼Œç¬¬ä¸€ç»„åˆ™ä»æ¥æ²¡æœ‰çŒœå¯¹ã€‚åœ¨è¢«å‘ŠçŸ¥ç­”æ¡ˆä¹‹åï¼Œç¬¬ä¸€ç»„çš„äººä¹Ÿè§‰å¾—å¾ˆæ˜æ˜¾ã€‚é€šè¿‡è¿™ä¸ªæ¸¸æˆï¼Œæˆ‘æƒ³å‘Šè¯‰æˆ‘çš„å¬ä¼—ï¼Œåœ¨æˆ‘çš„åŸ¹è®­ä¸­ä½ ä¸ä¼šå­¦åˆ°ä»»ä½•æ–°çš„ä¸œè¥¿ï¼Œ å”¤é†’ä½ å·²æœ‰çŸ¥è¯†å’Œæ€è€ƒã€‚åŒæ—¶ï¼Œæ¯ä¸ªäººä»ä¸­å¾—åˆ°çš„ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™å–å†³äºä½ å·²æœ‰çš„çŸ¥è¯†ç»“æ„å’Œæ€è€ƒæ–¹å¼ã€‚ä¸ºä»€ä¹ˆè¦èŠ±é‚£ä¹ˆå¤§ç¯‡å¹…å¼•å…¥ä»Šå¤©çš„ä¸»é¢˜å‘¢ï¼Ÿå› ä¸ºè¿™æ˜¯ä¸€ä¸ªåç›´è§‰çš„ä¸»é¢˜ã€‚å¦‚æœæˆ‘ä»¬æ²¡åœ¨ä¸€ä¸ªé¢‘é“ä¸Šï¼Œè¿™å°†æ˜¯ä¸€åœºäº’ç›¸çš„ä¼¤å®³ã€‚å¦‚æœä½ å®Œå…¨æ²¡æœ‰ç”¨è¿‡Mockï¼Œä½ å‡ ä¹ä»€ä¹ˆä¹Ÿä¸ä¼šå¾—åˆ°ã€‚èƒŒæ™¯åœ¨ä¸‹é¢çš„è®ºè¿°ä¸­ï¼Œæˆ‘ä»¬å°½å¯èƒ½ä½¿ç”¨åŒä¸€ä¸ªæ¡ˆä¾‹^ã€‚æˆ‘ä»¬æ‰€åˆ—ä¸¾çš„æ¯ä¸€ä¸ªæƒ…å½¢éƒ½æ˜¯æ¥è‡ªäºæˆ‘æœ¬äººå‚åŠ çš„å¼€å‘é¡¹ç›®æˆ–è€…å’¨è¯¢é¡¹ç›®ã€‚ä¸ºäº†ä¾¿äºç†è§£å’Œé™ˆè¿°ï¼Œæˆ‘ä»¬æŠŠå®ƒæ˜ å°„åˆ°è¿™ä¸ªæ¡ˆä¾‹ä¸Šé¢ã€‚ è¯¥æ¡ˆä¾‹å–è‡ªMartin Fowlerå…ˆç”Ÿçš„Mocks Arenâ€™t Stubsã€‚æˆ‘ä»¬æœ‰ä¸€ä¸ªè®¢å•ï¼ˆOrderï¼‰ å¯¹è±¡ï¼Œ è¯¥å¯¹è±¡ä»ä»“åº“ï¼ˆWareouseï¼‰ å¯¹è±¡ä¸­å–å‡ºäº§å“ï¼ˆProductï¼‰ã€‚è®¢å•å¯¹è±¡ä»…åŒ…å«ä¸€ä¸ªäº§å“å¯¹è±¡å’Œè¯¥äº§å“çš„æ•°é‡ã€‚ä»“åº“å¯¹è±¡ä¸­åŒ…å«å¤šç§ä¸åŒçš„äº§å“åŠå…¶æ•°é‡ã€‚å½“è®¢å•å¯¹è±¡è¯•å›¾ä»ä»“åº“ä¸­å–å‡ºäº§å“å¹¶å¡«å……(fill)è‡ªå·±çš„æ—¶å€™ï¼Œæœ‰ä¸¤ç§ç»“æœã€‚å¦‚æœä»“åº“ä¸­æœ‰è¶³å¤Ÿçš„äº§å“ï¼Œè®¢å•å¡«å……æˆåŠŸï¼ŒåŒæ—¶ä»“åº“ä¸­äº§å“å‡å°‘ç›¸åº”çš„æ•°é‡ã€‚å¦åˆ™è®¢å•å¡«å……å¤±è´¥ï¼Œå¹¶ä¸”ä»“åº“ä¿æŒä¸å˜ã€‚//äº§å“ä»£ç ï¼ˆä»…Orderç±»ï¼‰public class Order { private final String product; private final int quantity; private boolean filled; public Order(String product, int quantity) { if (quntity &lt;= 0) throw new InvalidArgumentException(\"The quantity shall not equal or be less than 0.\"); this.product = product; this.quantity = quantity; } public void fill(Wa ouse wa ouse) { if(warehouse.hasInventory(quantity)) { warehouse.remove(quantity); filled = true; } } public boolean isFilled() { return filled; }}ç¬¬ä¸€éƒ¨åˆ†ï¼šMockæµ‹è¯•çš„ç¼ºé™·åœ¨å¼€å§‹è°ˆç¼ºé™·ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹Mockæµ‹è¯•ä¸»è¦è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿä»¥ä¸‹å†…å®¹æ¥è‡ªWikiï¼Œæ‹¬å·ä¸­çš„æ³¨é‡Šç•¥æœ‰ä¿®æ”¹ï¼šå¦‚æœä¸€ä¸ªå¯¹è±¡å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼Œæ¯”è¾ƒé€‚åˆä½¿ç”¨mockå¯¹è±¡ï¼š è¯¥å¯¹è±¡æä¾›éç¡®å®šçš„ç»“æœï¼ˆæ¯”å¦‚å½“å‰çš„æ—¶é—´æˆ–è€…å½“å‰çš„æ¸©åº¦ï¼‰ å¯¹è±¡çš„æŸäº›çŠ¶æ€éš¾ä»¥åˆ›å»ºæˆ–è€…é‡ç°ï¼ˆæ¯”å¦‚ç½‘ç»œé”™è¯¯æˆ–è€…æ–‡ä»¶è¯»å†™é”™è¯¯ï¼‰ å¯¹è±¡æ–¹æ³•ä¸Šçš„æ‰§è¡Œå¤ªæ…¢ï¼ˆæ¯”å¦‚åœ¨æµ‹è¯•å¼€å§‹ä¹‹å‰åˆå§‹åŒ–æ•°æ®åº“ï¼‰ è¯¥å¯¹è±¡è¿˜ä¸å­˜åœ¨æˆ–è€…å…¶è¡Œä¸ºå¯èƒ½å‘ç”Ÿå˜åŒ–ï¼ˆæ¯”å¦‚æµ‹è¯•é©±åŠ¨å¼€å‘ä¸­é©±åŠ¨åˆ›å»ºæ–°çš„ç±»ï¼‰ è¯¥å¯¹è±¡å¿…é¡»åŒ…å«ä¸€äº›ä¸“é—¨ä¸ºæµ‹è¯•å‡†å¤‡çš„æ•°æ®æˆ–è€…æ–¹æ³•ï¼ˆåè€…ä¸é€‚ç”¨äºé™æ€ç±»å‹çš„è¯­è¨€ï¼Œæµè¡Œçš„Mockæ¡†æ¶ä¸èƒ½ä¸ºå¯¹è±¡æ·»åŠ æ–°çš„æ–¹æ³•ã€‚Stubæ˜¯å¯ä»¥çš„ã€‚ï¼‰å½“æˆ‘ä»¬è®²åˆ°ç¼ºé™·çš„æ—¶å€™ï¼Œä¸€å®šæ˜¯è¯´å®ƒç›¸å¯¹äºå…¶ä»–çš„è§£å†³æ–¹æ¡ˆã€‚è¿™é‡Œæˆ‘ä»¬å¯¹æ¯”çš„æ˜¯ç›´æ¥ä½¿ç”¨çœŸå®å¯¹è±¡ï¼ˆObjectï¼‰çš„æµ‹è¯•ï¼Œæ¯”å¦‚ä¸ä½¿ç”¨Mockçš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ã€‚ä¸€ä¸ªå…¸å‹çš„Mockæµ‹è¯•æ˜¯è¿™æ ·çš„ï¼š//æµ‹è¯•ä»£ç public class OrderTest { private static String TALISKER = \"Talisker\"; @Test public void testFillingRemovesInventoryIfInStock() { //è®¾ç½®æ•°æ® Order order = new Order(TALISKER, 50); Wa ouse wa ouse = mock(Wa ouse.class); when(wa ouse.hasInventory(50)).thenReturn(true); //æ‰§è¡Œè¢«æµ‹é€»è¾‘ order.fill(wa ouse); //éªŒè¯ verify(wa ouse, times(1)).hasInventory(50); verify(wa ouse, times(1)).remove(TALISKER, 50); assertThat(order.isFilled(), is(true)); }}è¢«æµ‹å¯¹è±¡ï¼Œä¹Ÿç»å¸¸ç§°ä¸ºSUTï¼ˆSystem Under Testï¼‰ï¼Œä¸ºçœŸå®å¯¹è±¡ï¼Œè€Œå…¶ä¾èµ–åˆ™è¢«å®Œå…¨éš”ç¦»ã€‚å€Ÿç”¨ç²¾ç›Šæ–¹æ³•ä¸­å¸¸ç”¨çš„æ¹–æ°´å²©çŸ³çš„æ¯”å–»ï¼šå²©çŸ³ä»£è¡¨è¢«æµ‹å¯¹è±¡åŠå…¶ä¾èµ–ï¼Œæ°´é¢ä»£è¡¨Mockç•Œé¢ã€‚æ°´é¢ä»¥ä¸‹çš„éƒ¨åˆ†éƒ½è¢«Mockæ©ç›–äº†ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬çš„æµ‹è¯•æ˜¯åº”å½“ç¡®ä¿æ•´ä¸ªç³»ç»Ÿæ­£å¸¸å·¥ä½œçš„ã€‚ç”±äºMockæ¡†æ¶å¼ºå¤§çš„çµæ´»æ€§ï¼Œè¿™ä¸ªæ°´é¢å‡ ä¹å¯ä»¥ä»»æ„è®¾ç½®ã€‚å³ä¾¿æ˜¯çºªå¾‹æ€§éå¸¸å¥½çš„å›¢é˜Ÿï¼Œ ä¹Ÿå¾ˆéš¾åœ¨è¿™ä¸ªé—®é¢˜ä¸Šåšåˆ°ä¸€è‡´ã€‚æ¯”å¦‚å¯ä»¥Mock Repositories ï¼Œ ä¹Ÿå¯ä»¥MockServiceï¼Œç”šè‡³Mockä¸€ä¸ªç®€å•çš„POJOã€‚è¿™æ—¶å€™ç¡®å®æ°´é¢ä»¥ä¸Šçš„éƒ¨åˆ†è¢«æµ‹è¯•è¦†ç›–åˆ°äº†ï¼Œæ°´é¢ä»¥ä¸‹çš„éƒ¨åˆ†å‘¢ï¼Ÿ1.é˜»ç¢é‡æ„é‡æ„æ˜¯æ•æ·å¼€å‘æœ€é‡è¦æœ€åŸºæœ¬æœ€å¸¸ç”¨çš„å®è·µä¹‹ä¸€ã€‚ä½†æ˜¯Mockæµ‹è¯•å´ç»å¸¸ç»™é‡æ„å¸¦æ¥çš„éšœç¢ã€‚è¿™ä¸ªæµ‹è¯•ç°åœ¨æ˜¯é€šè¿‡çš„ã€‚è€ƒè™‘åˆ°fill æ–¹æ³•ä¸­å…³äºhasInventory çš„æ£€æŸ¥æ˜¯å±äºWarehouse çš„ç»†èŠ‚ï¼Œæˆ‘ä»¬å°è¯•æŠŠå®ƒç§»åŠ¨åˆ°Warehouse ç±»ä¸­ã€‚// Order classpublic void fill(Wa ouse wa ouse) { filled = tryRemove(wa ouse);}// Wa ouse classpublic boolean tryRemove(String product, int quantity) { //è¿™ä¸ªåˆ¤æ–­å¯ä»¥ç®€åŒ–ï¼Œä½†æ˜¯ä¸ºäº†è¯´æ˜é—®é¢˜ï¼Œä¿æŒåŸæ¥çš„è°ƒç”¨é€»è¾‘ if(hasInventory(quantity)) { remove(product, quantity); return true; } return false;}é‡æ„çš„åŸºæœ¬åŸåˆ™å°±æ˜¯å¯¹å¤–è¡¨ç°çš„è¡Œä¸ºä¸å˜ï¼Œé‚£ä¹ˆç›¸åº”çš„ï¼Œåœ¨åšé‡æ„çš„æ—¶å€™æˆ‘ä»¬ä¸åº”å½“éœ€è¦ä¿®æ”¹æµ‹è¯•ã€‚å®Œæˆè¿™ä¸ªé‡æ„ä¹‹åï¼Œä½ ä¼šå‘ç°æµ‹è¯•å¤±è´¥äº†ã€‚å³ä¾¿æ˜¯æˆ‘ä»¬åœ¨tryRemove ä¸­è°ƒç”¨äº†ä¸€æ ·çš„é€»è¾‘ï¼Œå¯¹äºè¢«æµ‹è¯•å®ƒä¹Ÿæ˜¯ä¸å¯è§çš„ã€‚å› ä¸ºè¦é‡æ„æ‰€ä»¥è¦ä¿®æ”¹æµ‹è¯•ç»å¯¹ä¸æ˜¯ä»€ä¹ˆå¥½ä¸»æ„ï¼Œä½ æ€ä¹ˆçŸ¥é“ä½ æ²¡æœ‰ä¿®æ”¹è¡Œä¸ºå‘¢ï¼Ÿå®é™…ä¸Šæœ‰å‡ ç§é‡æ„æ‰‹æ³•æ˜¯å¤©ç„¶çš„è·ŸMockæµ‹è¯•æ°´ç«ä¸å®¹çš„ã€‚æ¯”å¦‚inline , Mock è¯´â€œå—¨ï¼Œæˆ‘æ¥è®¾ç½®è¿™ä¸ªå‡½æ•°çš„è¡Œä¸ºâ€ï¼› inline è¯´â€œä¸ç”¨äº†ï¼Œæˆ‘å·²ç»æŠŠå®ƒæ¶ˆé™¤äº†â€ã€‚ç±»ä¼¼çš„é‡æ„è¿˜æœ‰åœ¨ç±»ä¹‹é—´è¿ç§»æ–¹æ³•ã€ä¸Šæ¨æˆ–è€…ä¸‹ç§»æ–¹æ³•ç­‰ç­‰ã€‚åŸºæœ¬ä¸Šé™¤äº†é‡å‘½åè¿™ç±»ç®€å•çš„é‡æ„ï¼Œä½ ä¼šå‘ç°ä½ çš„å®ç°è¢«ç»‘æ­»åœ¨æµ‹è¯•ä¸Šäº†ã€‚åœ¨æˆ‘çœ‹æ¥è¿™ä¸€æ¡ç½ªçŠ¶è¶³å¤Ÿäº†ï¼Œåªè¦æˆ‘è¿˜èƒ½æ‰¾åˆ°å…¶ä»–æ›¿ä»£çš„æ–¹å¼ï¼ˆç¬¬äºŒéƒ¨åˆ†ä»‹ç»ï¼‰ï¼Œæˆ‘å°±ä¸ä¼šç”¨Mockäº†ã€‚2.æ©ç›–åå‘³é“Mockä¸ä»…ä¼šé˜»ç¢é‡æ„æœ¬èº«ï¼ŒåŒæ—¶ä¹Ÿä¼šæé«˜å›¢é˜Ÿå¯¹äºåå‘³é“çš„å®¹å¿ç¨‹åº¦ã€‚Mockçš„æ ¹æœ¬é©±åŠ¨åŠ›æ˜¯æ„å»ºå®é™…å¯¹è±¡çš„å›°éš¾ã€‚è€Œæ„å»ºå®é™…å¯¹è±¡çš„å›°éš¾å¾€å¾€æœ¬èº«å°±æ„å‘³ç€æŸç§åå‘³é“ã€‚å¸¸è§çš„æƒ…å½¢æ˜¯ï¼Œä¸€ä¸ªç±»æœ‰è¿‡å¤šçš„ä¾èµ–ã€‚å½“ä½ è¦åœ¨æµ‹è¯•ä¸­åˆ›å»ºè¿™æ ·çš„ç±»çš„æ—¶å€™ä½ ä¼šå‘ç°ä»…ä»…æ„å»ºè¿™æ ·ä¸€ä¸ªç±»çš„å®ä¾‹å°±æ˜¯å¾ˆå¤æ‚çš„ã€‚æ‰€ä»¥ï¼Œä¸å¦‚ç”¨åˆ°å“ªä¸ªæ–¹æ³•å°±Mockå“ªä¸ªæ–¹æ³•ã€‚äºæ˜¯ï¼Œå¯¹äºè¿åäº†å•ä¸€èŒè´£åŸåˆ™çš„å¯¹è±¡å›¢é˜Ÿå¾€å¾€ä¸èƒ½åœ¨æµ‹è¯•æ—¶æ„Ÿå—åˆ°å¯¹è±¡åˆ›å»ºçš„å›°éš¾ã€‚ä¹Ÿå°±ç¼ºä¹åŠ¨åŠ›è¿›è¡Œé‡æ„ã€‚å¦ä¸€ç§æƒ…å½¢æ˜¯è¿‡é•¿çš„è°ƒç”¨é“¾ã€‚å¯¹äºè¿‡é•¿çš„è°ƒç”¨é“¾ï¼ŒMockæ–¹æ¡ˆæ˜¯éå¸¸å…·æœ‰å¸å¼•åŠ›çš„ï¼ˆæƒ³è±¡ä¸€ä¸‹åœ¨remove æ–¹æ³•ä¸­æœ‰ä¸€é•¿ä¸²çš„getA().fetchB().buildC().delete() ï¼‰ ã€‚å› ä¸ºä½ å¯ä»¥åªMock ç¬¬ä¸€çº§è°ƒç”¨( remove )ï¼Œæµ‹è¯•å†™èµ·æ¥æ˜¯ä¸æ˜¯å®¹æ˜“å¤šäº†ã€‚åœ¨ä¸€ä¸ªæ°å½“çš„è®¾è®¡ä¸­ï¼Œæ¯ä¸€çº§è°ƒç”¨åº”å½“æ˜¯å…¶å®ç°ç»†èŠ‚çš„æŠ½è±¡ã€‚å½“æˆ‘ä»¬ä½¿ç”¨è¿‡é•¿çš„è°ƒç”¨é“¾çš„æ—¶å€™å®é™…ä¸Šæ˜¯æŠŠä¸‹ä¸€çº§çš„å®ç°ç»†èŠ‚äº†ã€‚æˆ‘çš„åŸåˆ™æ˜¯æŠŠå¯¹æ¡†æ¶ï¼ˆæˆ–è€…åº“ï¼‰å‡½æ•°çš„è°ƒç”¨å®šä¹‰ä¸ºè¾¹ç•Œï¼Œä»»ä½•ä¸€ä¸ªæ–¹æ³•åˆ°è¾¾è¾¹ç•Œçš„è·ç¦»åº”å½“å°½å¯èƒ½çš„çŸ­ï¼ˆ3~4æ­¥æ˜¯æˆ‘çš„ä¸Šé™ï¼‰ã€‚è¿‡æ·±çš„çš„è°ƒç”¨æ„å‘³ç€å¯¹ä¸‹å±‚å‡½æ•°è¿›è¡Œä¿®æ”¹çš„æ—¶å€™æ¶Ÿæ¼ªæ•ˆæœä¼šæ›´åŠ æ˜æ˜¾ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬åº”å½“åšçš„æ˜¯æ”¹å–„è®¾è®¡è€Œä¸æ˜¯ç”¨Mockæ©ç›–é”™è¯¯ã€‚3.æµ‹è¯•å®ç°ç»†èŠ‚ç­‰ç­‰ï¼Œå•å…ƒæµ‹è¯•ä¸å°±æ˜¯æµ‹è¯•ç»†èŠ‚çš„å—ï¼Ÿ[æ‚è„¸å“­]GitChatå¯¹äºè¡¨æƒ…ç¬¦å·æ”¯æŒä¸å¤ªå®Œå–„ï¼Œè¯·è‡ªåŠ¨è„‘è¡¥æ‚è„¸å“­çš„ç¬¦å·ã€‚æ˜¯çš„ï¼Œå•å…ƒæµ‹è¯•æ˜¯æµ‹è¯•ç»†èŠ‚çš„ï¼Œä½†æ˜¯æµ‹è¯•æµ‹è¯•çš„æ˜¯ä¸šåŠ¡çš„ç»†èŠ‚ï¼Œè€Œä¸æ˜¯å®ç°çš„ç»†èŠ‚ã€‚è¿˜æ˜¯ä»¥ä¸Šæ–‡ä¸­çš„ä»£ç ä¸ºä¾‹ï¼Œ fill æ–¹æ³•åˆ°åº•æ˜¯è°ƒç”¨äº†Wa ouse çš„å“ªä¸ªæ–¹æ³•å°±æ˜¯å®ç°ç»†èŠ‚ã€‚ä»æµ‹è¯•çš„ç›®çš„çœ‹ï¼Œä»»ä½•æµ‹è¯•éƒ½åº”è¯¥æ˜¯è¡Œä¸ºæµ‹è¯•æˆ–è€…ä¸šåŠ¡é€»è¾‘æµ‹è¯•ã€‚å³æˆ‘ä»¬æµ‹è¯•çš„æ˜¯ç³»ç»Ÿæˆ–è€…ç»„ä»¶æœ‰æ²¡æœ‰æŒ‰ç…§æœŸæœ›çš„æ–¹å¼è¿”å›ç»“æœã€‚è‡³äºè¿™ä¸ªç»“æœæ˜¯æ€ä¹ˆäº§ç”Ÿçš„ä¸åº”å½“æ˜¯æµ‹è¯•è´Ÿè´£éªŒè¯çš„äº‹æƒ…ã€‚å€¼å¾—æŒ‡å‡ºçš„æ˜¯ï¼Œä¸šåŠ¡é€»è¾‘æ˜¯å±‚å±‚ä¸‹æ”¾çš„ï¼Œä¹Ÿå°±æ˜¯ä¸Šä¸€å±‚çš„æ‰€æœ‰ä¸šåŠ¡ç»†èŠ‚ï¼Œä¸€å®šåœ¨ä¸‹ä¸€å±‚æœ‰æ”¯æ’‘ã€‚è€Œä¸€èˆ¬æƒ…å†µä¸‹æ¯ä¸€ä¸ªæ–¹æ³•ä¸€å®šæ˜¯åº”å¯¹äºä¸€ä¸ªä¸šåŠ¡éœ€æ±‚ï¼ˆç²’åº¦å¤§å°ä¸åŒï¼‰ã€‚ä»æŠ•å…¥äº§å‡ºæ¯”æ¥çœ‹ï¼Œä¸ºä»€ä¹ˆä¸è¦æµ‹è¯•å®ç°ç»†èŠ‚å‘¢ï¼Ÿå®ç°ç»†èŠ‚å˜åŒ–å¿«äºå…¶å®ç°çš„ä¸šåŠ¡å˜åŒ–é¢‘ç‡ï¼Œæµ‹è¯•æˆæœ¬é«˜ï¼›åŒæ—¶ï¼Œå› ä¸ºæµ‹è¯•æ²¡æœ‰åˆ°è¾¾â€œè¾¹ç•Œâ€ï¼Œå®é™…ä¸Šæˆ‘ä»¬è·å¾—çš„ä¿¡å¿ƒæ˜¯æœ‰é™çš„ã€‚ä½¿ç”¨Mockæµ‹è¯•çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šå‘ç°æµ‹è¯•åŸºæœ¬ä¸Šæ˜¯åœ¨é‡å¤å®ç°çš„é€»è¾‘ï¼ˆæ¯”å¦‚ä¸Šæ–‡ä¸­çš„æµ‹è¯•ï¼Œä½ å¿…é¡»çŸ¥é“å®ç°çš„æ—¶å€™ä½¿ç”¨äº†é‚£ä¸ªæ–¹æ³•ï¼Œæ‰èƒ½å¯¹é‚£ä¸ªæ–¹æ³•è¿›è¡ŒMockï¼‰ã€‚4.æ¼æµ‹å…³é”®é€»è¾‘æ¡ˆä¾‹èƒŒæ™¯ï¼šæˆ‘ä»¬éœ€è¦è®¡ç®—å½“å¤©çš„Order çš„æ€»æ•°é‡ã€‚æˆ‘ä»¬ä¸ºOrderç±»å¢åŠ ä¸€ä¸ªæ—¥æœŸfieldï¼Œå¹¶åˆ›å»ºOrderService ç±»æ¥å®ç°è®¡ç®—ã€‚@Testpublic void sum_total_amount_of_orders_for_today(){ // today, yesterday, tomorrow Order yesterdayOrder = new Order(TALISKER, 100, yesterday); Order todayOrder1 = new Order(TALISKER, 200, today); Order todayOrder2 = new Order(TALISKER, 600, today); Order tomorrowOrder = new Order(TALISKER, 800, tomorrow);when(orderReporsitory.findByDate(eq(today))).thenReturn(ArrayList.asList(todayOrder1, todayOrder2)); // orderReporsitoryé€šè¿‡ä¾èµ–æ³¨å…¥çš„æ–¹å¼æ³¨å…¥åˆ°OrderServiceä¸­ assertThat(orderService.getTodaysAmount(), is(800)));}public class OrderService { Integer getTodaysAmount() { Date today = new Date(); List orders = orderReporsitory.findByDate(today); // å¯¹ordersçš„æ•°é‡è¿›è¡Œæ±‚å’Œå¹¶è¿”å› ... }}ç”±äºæˆ‘ä»¬åœ¨æ•°æ®åº“ä¸­ä¿å­˜çš„æ—¶é—´æ˜¯ä¸å¸¦æ—¶åŒºçš„ï¼Œè€Œåœ¨orderService ä¸­çš„today å´æ˜¯æ ¹æ®æ“ä½œç³»ç»Ÿçš„æ—¶åŒºå¾—åˆ°çš„ã€‚è¿™å°±å¯¼è‡´æœç´¢å¾—åˆ°çš„ç»“æœæ˜¯è·Ÿç³»ç»Ÿè¿è¡Œçš„æ—¶åŒºè®¾ç½®æœ‰å…³ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„æµ‹è¯•é”™è¯¯ï¼Œè¡¨é¢ä¸Šæˆ‘ä»¬æµ‹è¯•äº†getTodaysTotal çš„é€»è¾‘ã€‚ä½†æ˜¯å®é™…ä¸Šï¼Œæ“ä½œç³»ç»Ÿæ—¶åŒºè¿™ä¸ªå…³é”®é€»è¾‘è¢«æ‰äº†ã€‚ä»»ä½•æ—¶å€™éƒ½è¦å°å¿ƒï¼Œè¢«Mockçš„å¯¹è±¡å…¶è¡Œä¸ºæœªå¿…è·Ÿæˆ‘ä»¬é¢„æœŸçš„ä¸€è‡´ã€‚5.æµ‹è¯•ä¸å­˜åœ¨çš„é€»è¾‘æ€ä¹ˆå¯èƒ½æµ‹åˆ°ä¸å­˜åœ¨çš„é€»è¾‘ï¼æˆ‘éš”ç€å±å¹•éƒ½èƒ½æ„Ÿè§‰åˆ°ä½ çš„ç–‘æƒ‘ã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š@Test(expect = IllegalStateException.class)public void throw_exception_if_an_order_has_no_product_set(){ Destination mockedOrder = mock(Order.class); when(mockedOrder.getQuantity().thenReturn(0); ordreService.validate(mockedOrder);}public class OrderService { void validate(Order order) { if (order.getQuantity() &lt;= 0) { throw new IllegalStateException(\"Order has invalid quantity set.\") } }}çœ‹ä¸Šå»æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œå¯æ˜¯äº‹å®ä¸ŠOrder çš„æ„é€ å‡½æ•°å¯èƒ½å°±å·²ç»ä»»ä½•æˆåŠŸæ„å»ºçš„å®ä¾‹å…¶quantity éƒ½ä¸ä¼šä¸º0ã€‚å¦‚æœä½ ä½¿ç”¨çš„æ˜¯çœŸå®çš„å¯¹è±¡ï¼Œæ˜¯æ ¹æœ¬ä¸å¯èƒ½çŠ¯è¿™ä¸ªé”™è¯¯çš„ã€‚6.æµ‹è¯•å¯è¯»æ€§å·®åº”å½“æ‰¿è®¤ç°åœ¨çš„Mockæ¡†æ¶çš„è¯­æ³•å·²ç»å˜å¾—æ¯”å‡ å¹´å‰è¦å¥½å¾—å¤šäº†ã€‚åœ¨jMock ï¼Œè¢«æ–¹æ³•åè¿˜æ˜¯è¦ä»¥å­—ç¬¦ä¸²çš„å½¢å¼å‡ºç°ã€‚æ„Ÿå—ä¸€ä¸‹è¿™ä¸ªï¼šwarehouseMock.expects(once()).method(\"hasInventory\") .with(eq(TALISKER),eq(50)) .will(returnValue(true));æ–°çš„è¯­æ³•ä»ç„¶æœ‰å¾ˆå¤šå¥‡æ€ªçš„é™åˆ¶ã€‚æ¯”å¦‚ï¼Œ è¿™ä¸ªæ˜¯ä¸åˆæ³•çš„verify(wa ouse, times(1)).remove(anyString(), 50); ï¼Œ å¿…é¡»å†™æˆverify(wa ouse, times(1)).remove(anyString(), eq(50)); ã€‚å¦å¤–ï¼Œä½ æœ‰æ²¡æœ‰æƒ³è¿‡ä¸‹é¢ä¸‰ç§æ–¹å¼æœ‰æ²¡æœ‰å·®åˆ«ï¼š//æ–¹å¼1when(wa ouse.hasInventory(50)).thenReturn(true);//æ–¹å¼2boolean methodCall = wa ouse.hasInventory(50);when(methodCall).thenReturn(true);//æ–¹å¼3boolean methodCall = wa ouse.hasInventory(50);wa ouse.hasInventory(30);when(methodCall).thenReturn(true);æˆ‘æ˜¯ç›´åˆ°çœ‹äº†Mockitoçš„æºä»£ç æ‰æ˜ç™½ä¸ºå•¥æ–¹å¼1å’Œæ–¹å¼2ç­‰ä»·ï¼Œæ–¹å¼3ä¼šå¤±è´¥ã€‚æˆ‘å»ºè®®ä½ ä¹Ÿå»çœ‹ä¸€ä¸‹å®ƒçš„å®ç°ï¼Œç¡®å®éå¸¸å·§å¦™ï¼Œä½†æ˜¯ä¹Ÿå¢åŠ äº†å¾ˆå¤šé™åˆ¶ã€‚ä½ å¯ä»¥è¯´è¿™äº›éƒ½æ˜¯ä¸ºäº†æé«˜å¯è¯»æ€§ï¼Œä½†æ˜¯å®ƒå¢åŠ äº†å¾ˆå¤šéœ€è¦è®°å¿†çš„ä¸œè¥¿ã€‚7.æ©ç›–æ€§èƒ½ç¼ºé™·æ¡ˆä¾‹ï¼šä¸‹é¢è¿™æ®µä»£ç ï¼Œé¦–å…ˆæ ¹æ®country ä»ç¼“å­˜ä¸­å–å¾—ç›¸å…³çš„è®¢å•çš„IDï¼Œç„¶åå–å‡ºæ‰€æœ‰è®¢å•å¹¶è®¡ç®—æ€»é‡‘é¢ã€‚public Integer amount getTotal(String country) { List&lt;Id&gt; ids = orderCacheService.getAllIds(country); Integer total = 0; for(Id id : ids) { total += orderReporsitory.getOrder(id).getAmount(); } return total;}è™½ç„¶æˆ‘ä»¬åœ¨æµ‹è¯•ä¸­åŒ…å«äº†å¯¹äº100K+ IDçš„æµ‹è¯•ï¼ˆå½“æ—¶æ˜¯ä¸ºäº†æµ‹è¯•ç¼“å­˜ï¼‰ï¼Œåæ¥æˆ‘ä»¬å‘ç°è¿™ä¸ªå‡½æ•°åœ¨çº¿ä¸Šå¹³å‡æ‰§è¡Œæ—¶é—´ä¸º~2000ç§’ï¼ˆå¤§äºåŠä¸ªå°æ—¶ï¼‰ã€‚è€Œã€åœ¨æµ‹è¯•ä¸­ç”±äºæˆ‘ä»¬Mockäº†getOrder æ–¹æ³•ï¼Œå¿½è§†äº†æ•°æ®åº“æœ¬èº«çš„æ€§èƒ½ã€‚ç¬¬äºŒéƒ¨åˆ†ï¼šä¸ç”¨Mockæ€ä¹ˆå†™ï¼ˆå•å…ƒï¼‰æµ‹è¯•æˆ‘åˆä½œè¿‡çš„å¾ˆå¤šå›¢é˜Ÿï¼Œç‰¹åˆ«æ˜¯æ•æ·å›¢é˜Ÿï¼Œéƒ½å¯¹Mockæƒ…æœ‰ç‹¬é’Ÿã€‚æœ‰äº›å›¢é˜Ÿç”šè‡³è¾¾åˆ°äº†æ— Mockä¸UTçš„åœ°æ­¥ã€‚2013å¼€å§‹æˆ‘åœ¨å›¢é˜Ÿä¸­å¼€å§‹æ¨è¡Œå»MockåŒ–ï¼Œå¹¶å–å¾—äº†ä¸é”™çš„æ•ˆæœã€‚ä¸‹é¢æ˜¯æˆ‘æ€»ç»“çš„ä¸€äº›ç»éªŒã€‚1.æ¶ˆé™¤â€œå•å…ƒâ€æƒ…ç»“è¦åœ¨å›¢é˜Ÿä¸­æ¨è¡Œå»Mockï¼Œå°±è¦æ¶ˆé™¤â€œå•å…ƒâ€æƒ…ç»“ï¼Œæˆ–è€…æ¢ä¸ªè§’åº¦çœ‹å¾…â€œå•å…ƒâ€è¿™ä¸ªæ¦‚å¿µã€‚è¿™å¾€å¾€æ˜¯ä¸€ä¸ªé•¿æœŸçš„è¿‡ç¨‹ï¼Œä½†æ˜¯ç¬¬ä¸€éƒ¨åˆ†åº”è¯¥ç»™ä½ æä¾›äº†å¤§é‡çš„ã€‚Mockistï¼ˆMockä¸»ä¹‰åˆ†å­ï¼‰å¾€å¾€é‡è§†å•å…ƒçš„éš”ç¦»æ€§ã€‚ A mockist TDD practitioner, however, will always use a mock for any object with interesting behavior.â€”â€”Martin Fowleråœ¨ä»–ä»¬çœ‹æ¥å•å…ƒæµ‹è¯•å°±æ˜¯æµ‹è¯•ä¸€ä¸ªç±»ï¼Œç”šè‡³æ˜¯ä¸€ä¸ªæ–¹æ³•ã€‚æ‰€æœ‰å…¶ä»–çš„å› ç´ å…¨éƒ½åº”å½“æ‰ã€‚è¿™ä¸ä»…åœ¨åŸåˆ™ä¸Šæ˜¯é”™è¯¯çš„ï¼Œç¬¬ä¸€éƒ¨åˆ†ä¹Ÿè®ºè¯äº†åœ¨å®è·µä¸Šä¹Ÿæ˜¯ä¸å¯èƒ½çš„ã€‚æ­£ç¡®çš„æµ‹è¯•å•å…ƒåº”å½“æ˜¯ä¸€ä¸ªä¸šåŠ¡é€»è¾‘å•å…ƒï¼Œæ¯”å¦‚ï¼š ç”¨æˆ·å¿…é¡»æä¾›æ­£ç¡®çš„é‚®ä»¶åœ°å€æ‰èƒ½æ³¨å†Œ ç”¨æˆ·çš„é»˜è®¤åœ°å€å¯ä»¥è¢«å½“å‰åœ°å€è¦†ç›– ç”¨æˆ·æ— æ³•å–æ¶ˆæ­£åœ¨æ‰§è¡Œä¸­çš„å·¥ä½œæµä½ çš„æµ‹è¯•æœ¬èº«ï¼Œè€Œä¸ä»…æ˜¯æµ‹è¯•çš„æ–¹æ³•åï¼Œåº”è¯¥æ˜¯å¯¹äºéå¼€å‘ä¹Ÿå°½é‡æ˜¯å¯è¯»çš„ã€‚@Beforepublic void setUp() throws Exception { wa ouse.add(TALISKER, 50); wa ouse.add(HIGHLAND_PARK, 25);}@Testpublic void testOrderIsFilledIfEnoughInWa ouse() { Order order = new Order(TALISKER, 50); order.fill(wa ouse); assertThat(order.isFilled(), is(true)); assertThat(wa ouse.getInventory(TALISKER), is(0));}ä½ ä¼šå‘ç°æœ‰äº›ä»£ç ä¼šåœ¨ä¸åŒçš„æµ‹è¯•ä¸­è¢«é‡å¤æ‰§è¡Œï¼Œæ¯”å¦‚å¯¹é‚®ä»¶åœ°å€çš„æ ¼å¼å¯èƒ½ç»å¸¸è¢«ä¸åŒçš„æµ‹è¯•è¦†ç›–åˆ°ã€‚è¿™ä¼šå¸¦æ¥ä¸€å®šçš„æµ‹è¯•æ•ˆç‡é™ä½ï¼Œä½†æ˜¯å®é™…å¼€å‘ä¸­å› ä¸ºå¯¹è±¡çš„åˆ›å»ºè€Œå¯¼è‡´æµ‹è¯•æ•ˆç‡ä¸‹é™çš„æƒ…å†µå°‘ä¹‹åˆå°‘ã€‚2.æ–‡ä»¶ã€ç½‘ç»œå’Œæ•°æ®åº“å½“æˆ‘ä»¬è°ˆèµ·ä»€ä¹ˆæ—¶å€™â€œåº”å½“â€ä½¿ç”¨Mockçš„æ—¶å€™ï¼ŒIOåŠå…¶ç›¸å…³æ“ä½œå¾€å¾€æ˜¯æœ€å…ˆè¢«æå‡ºæ¥çš„ã€‚è¿™æ˜¯å› ä¸ºç‰µæ‰¯åˆ°IOçš„æ“ä½œå¾€å¾€ä¸€æ–¹é¢å¯¹è±¡çš„åˆ›å»ºæˆæœ¬é«˜ï¼ˆæ¯”å¦‚DB connectionï¼‰ï¼Œå¦ä¸€æ–¹é¢æ“ä½œæ‰§è¡Œçš„é€Ÿåº¦ç›¸å¯¹äºåœ¨å†…å­˜ä¸­åˆ›å»ºå¯¹è±¡è¦ä½å¾—å¤šã€‚å¯¹äºæ•°æ®åº“æˆ‘é€šå¸¸é‡‡ç”¨çš„ç­–ç•¥æ˜¯ä½¿ç”¨å†…å­˜æ•°æ®åº“ï¼Œæ¯”å¦‚H2ã€‚Mockæ•°æ®åº“å±‚çš„é£é™©æ˜¯éå¸¸é«˜çš„ã€‚å› ä¸ºç°ä»£çš„æ•°æ®åº“æœ‰å¤§é‡çš„é€»è¾‘åœ¨é‡Œé¢â€”â€”â€”â€”SQLã€é”ã€äº‹ç‰©ç­‰ç­‰ã€‚å…³äºç½‘ç»œï¼Œé¦–å…ˆController(æˆ–è€…æœ‰çš„æ¡†æ¶æ¨èå«Resource)æ˜¯å¯ä»¥è„±ç¦»ç½‘ç»œè¿›è¡Œæµ‹è¯•çš„ã€‚é’ˆå¯¹å¯¹Web Service ï¼ˆ æ¯”å¦‚RESTful API ï¼‰ çš„æµ‹è¯•çš„æ˜¯æµ‹è¯•è¯·æ±‚çš„åˆ†å‘ï¼ˆDispatchï¼‰ï¼Œè¿™ä¸ªæ—¶å€™æŠŠæœåŠ¡å™¨è·‘èµ·æ¥é€šå¸¸æ˜¯æœ€ç»æµçš„ã€‚å¥½åœ¨æœ‰å†…å­˜æ•°æ®åº“å¸®å¿™ï¼Œè·‘èµ·ä¸€ä¸ªæœåŠ¡å™¨å¹¶ä¸æ˜¯å¾ˆå›°éš¾çš„äº‹æƒ…ã€‚å¯ä»¥å‚è€ƒJHipsterçš„å®ç°ã€‚å†…å­˜æ–‡ä»¶ç³»ç»Ÿæœ‰Googleå‡ºå“çš„Jimfsã€‚è¿™ä¸ªæˆ‘ç”¨çš„æ¯”è¾ƒå°‘ï¼Œå› ä¸ºå¤§å¤šæ•°æƒ…å†µåŸºäºæ–‡ä»¶çš„å†…å®¹åšæµ‹è¯•å°±å¤Ÿäº†ã€‚çœŸæ­£è¯»å†™æ–‡ä»¶çš„æ—¶å€™å¤„ç†å¥½å·²çŸ¥çš„å¼‚å¸¸å³å¯ã€‚3.è€ƒè™‘å…¶ä»–çš„Test Doubleæ–¹å¼æˆ‘åœ¨å®é™…å·¥ä½œä¸­ä¹Ÿä¸æ˜¯å®Œå…¨ä¸ä½¿ç”¨Mockã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡æ¯”è¾ƒå›°éš¾åˆ›å»ºï¼Œæˆ‘ä¹Ÿä¼šå…ˆä»Mockå¼€å§‹ï¼Œæµ‹è¯•é€šè¿‡ä»¥åé€æ­¥æŠŠå®ƒå˜æˆå¯¹çœŸå®å¯¹è±¡çš„æµ‹è¯•ã€‚æˆ‘é€‰æ‹©å°½é‡ä¸æäº¤Mockåˆ°ä¸­å¿ƒåº“ã€‚åœ¨ä½¿ç”¨Mockçš„æ—¶å€™æˆ‘ä¹Ÿå°½é‡æŠŠå®ƒä½œä¸ºStubä½¿ç”¨ã€‚æ¯”å¦‚ä¸€å¼€å§‹çš„ä¾‹å­ï¼Œæˆ‘ä¸€èˆ¬éƒ½ä¸verifyè¢«ä¾èµ–å¯¹è±¡çš„è¡Œä¸ºï¼Œè€Œåªæ˜¯æ£€æŸ¥å¯¹è¢«æµ‹å¯¹è±¡çš„çŠ¶æ€ï¼ˆisFilledï¼‰ã€‚æˆ‘å‘ç°è¿™æ ·å¯ä»¥è®©æµ‹è¯•ç›¸å¯¹çš„å®¹æ˜“ç†è§£ï¼Œå¹¶ä¸”ä¸é‚£ä¹ˆè„†å¼±ã€‚@Testpublic void testFillingRemovesInventoryIfInStock() { //setup - data Order order = new Order(TALISKER, 50); Wareouse wareouse = mock(Wareouse.class); when(wareouse.hasInventory(50)).thenReturn(true); //exercise order.fill(wareouse); //verify assertThat(order.isFilled(), is(true));}æˆ‘è‡ªå·±ä½¿ç”¨Stubçš„æ—¶å€™å¹¶ä¸å¤šï¼ˆå› ä¸ºæˆ‘å‘ç°å¦‚æœéµå¾ªSRPçš„åŸåˆ™å®é™…å¯¹è±¡é€šå¸¸éƒ½å¾ˆå®¹æ˜“åˆ›å»ºå’Œè£…é…ï¼‰ã€‚åœ¨æˆ‘çœ‹æ¥é€šè¿‡æ‰©å±•ï¼ˆextendï¼‰åŸå¯¹è±¡çš„æ–¹æ³•æ¥ç”ŸæˆStubä¹Ÿæ¯”Mockè¦å¥½ï¼Œå› ä¸ºè¿™æ ·ä½ å…³æ³¨çš„æ˜¯çŠ¶æ€ï¼Œè€Œä¸æ˜¯ä¸¤ä¸ªå¯¹è±¡çš„äº¤äº’ç»†èŠ‚ã€‚Spiesä¹Ÿæ˜¯ä¸€ä¸ªæ›¿ä»£æ–¹æ¡ˆå®ƒæ˜¯Stubçš„ä¸€ç§å®ç°ã€‚å…·ä½“çš„çš„å®šä¹‰å¯ä»¥å‚è€ƒMartin Fowlerçš„æ–‡ç« Mocks Arenâ€™t Stubsã€‚4.å°è¯•Reactive Programmingä¸¥æ ¼çš„è®²è¿™ä¸€ç‚¹å¹¶ä¸æ˜¯è§£å†³Mockæµ‹è¯•çš„é—®é¢˜ï¼Œè€Œæ˜¯æ•´ä½“ä¸Šå‡å°‘æœ‰çŠ¶æ€çš„ç±»ã€‚æˆ‘åœ¨ä½¿ç”¨äº†å“åº”å¼ç¼–ç¨‹ä¹‹åå‘ç°éœ€è¦Test Doubleçš„æœºä¼šé™ä½äº†ã€‚å› ä¸ºå“åº”å¼ç¼–ç¨‹é¼“åŠ±å°½é‡é¿å…å‰¯ä½œç”¨ï¼ˆSide Effectsï¼‰ï¼Œè¿™ä½¿å¾—ä¸€ä¸ªæ–¹æ³•å‡ ä¹ä¸ä¼šå¯¹å¤–äº§ç”Ÿä¾èµ–ã€‚å¦‚æœæœ‰ä¾èµ–ï¼Œä¹Ÿæ˜¯å¦ä¸€ä¸ªæ— å‰¯ä½œç”¨çš„ä¾èµ–ã€‚å¯¹äºä¸€ä¸ªFunctionæ¥è¯´ï¼Œä¸€ä¸ªè¾“å…¥æ— æ¡ä»¶çš„å¯¹åº”ä¸€ä¸ªç¡®å®šçš„è¾“å‡ºã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è®¾è®¡çš„æ–¹æ³•å¾€å¾€èƒ½å¾ˆå¿«åˆ°è¾¾â€œè¾¹ç•Œâ€ã€‚åœ¨çº¯ç²¹çš„Functional Programming ä¸å­˜åœ¨é¢å‘å¯¹è±¡æ„ä¹‰ä¸Šçš„â€œå¯¹è±¡â€çš„ã€‚ç”¨æˆ·å¯ä»¥å®šä¹‰æ•°æ®ç»“æ„ï¼Œå…¶ç›®çš„æ˜¯ä½œä¸ºå‚æ•°æˆ–è€…ç»“æœï¼Œè€Œä¸æ˜¯å°†æ“ä½œå’Œä½œçš„æ•°æ®æ”¾åˆ°ä¸€èµ·ï¼ˆå°±åƒé¢å‘å¯¹è±¡çš„åšæ³•ï¼‰ã€‚ä»é¢å‘å¯¹è±¡ç¼–ç¨‹è½¬å‘å“åº”å¼ç¼–ç¨‹åœ¨æ€ç»´æ–¹å¼ä¸Šæ˜¯ä¸€ä¸ªéå¸¸å¤§çš„è½¬å˜ã€‚æˆ‘ä»¬ä¹Ÿä¸èƒ½é’ˆå¯¹ä¸€ä¸ªç”¨é¢å‘å¯¹è±¡æ€ç»´è®¾è®¡å‡ºæ¥çš„ç±»ï¼ˆæ¯”å¦‚Orderï¼‰ä»¥å“åº”å¼ç¼–ç¨‹çš„æ–¹å¼è¿›è¡Œæµ‹è¯•ã€‚æ€»ç»“æˆ‘ä»¬é€šè¿‡ä¸€ç³»åˆ—æ¡ˆä¾‹åˆ†æäº†ä½¿ç”¨Mockçš„æ—¶å€™å¸¦æ¥çš„é—®é¢˜ã€‚å…¶é—®é¢˜æ˜¯ä¸èƒ½ç»™å›¢é˜Ÿæä¾›è¶³å¤Ÿçš„ä¿¡å¿ƒã€‚æ ¹æœ¬åŸå› åˆ™æ˜¯ç³»ç»Ÿè¢«Mockçš„éƒ¨åˆ†ä¸ä¸€å®šä¼šæŒ‰ç…§æˆ‘ä»¬è®¾æƒ³çš„æ–¹å¼å·¥ä½œã€‚æœ€åæˆ‘ä»¬ç»™å‡ºäº†å‡ ä¸ªé¿å…æˆ–è€…å‡å°‘ä½¿ç”¨Mockçš„å‡ ä¸ªç­–ç•¥ã€‚" }, { "title": "Latexç¼–å†™è·¨é¡µé•¿è¡¨æ ¼æŠ¥å‘Šçš„è¸©å‘ç»å†", "url": "/posts/latex-proposal-summary/", "categories": "Latex", "tags": "Latex", "date": "2024-06-08 00:00:00 +0800", "snippet": "å…·ä½“latexé¡¹ç›®ç¤ºä¾‹è§githubä»“åº“ECNU-Thesis-Proposalï¼Œä¸‹é¢æ˜¯ä¸€äº›è¸©å‘çš„æ€»ç»“ã€‚ç®€å•è·¨é¡µé•¿è¡¨æ ¼ä½¿ç”¨mdframedåŒ…é€‚åˆå®ç°ä¸‹å›¾å¯è·¨é¡µçš„ç®€å•è¡¨æ ¼æ ·å¼ï¼Œä¸”åœ¨å•å…ƒæ ¼å†…ä¾æ—§åƒæ­£æ–‡ä¸€æ ·ï¼Œæ–¹ä¾¿å¾—è°ƒæ•´æ ·å¼å’Œæ­£å¸¸ä½¿ç”¨ figure,enumerateç­‰åŠŸèƒ½ï¼Œä¸éœ€è¦é¢å¤–çš„è°ƒæ•´æ ·å¼å»åŒ¹é…ã€‚è¿™äº›æ˜¯æ™®é€šçš„è¡¨æ ¼ tabularxå’Œ è·¨é¡µè¡¨æ ¼ï¼ˆlongtableã€ xltabularï¼‰å¾ˆéš¾æ–¹ä¾¿åšåˆ°çš„ã€‚ç¤ºä¾‹\\mdfdefinestyle{mymdfstyle}{ everyline=true, linewidth=0.5pt, innerleftmargin=4pt, innerrightmargin=4pt, innertopmargin=-15pt, innerbottommargin=-10pt}\\begin{mdframed}[ style=mymdfstyle,]% ç¬¬ä¸€ä¸ªå•å…ƒæ ¼çš„å†…å®¹% ä½¿ç”¨ \\mdfsubtitle æ·»åŠ æ¨ªè¡Œï¼ŒåŒºåˆ†å•å…ƒæ ¼\\mdfsubtitle[ subtitleaboveline=true, subtitleabovelinewidth=0.8pt, % ç»éªŒå€¼ï¼Œè‚‰çœ¼çœ‹è·Ÿä¸Šé¢ linewidth = 0.5pt ç²—ç»†å·®ä¸å¤š subtitlebelowskip=0.2\\baselineskip, subtitleinneraboveskip=0pt, subtitleinnerbelowskip=0pt,]{}% ç¬¬äºŒä¸ªå•å…ƒæ ¼çš„å†…å®¹\\end{mdframed}å›¾ç‰‡tikzç”»å›¾åˆæ¢ æ‰‹å†Œ mathcha - åœ¨çº¿ç”»å›¾å·¥å…· TikZ and PGF examples (texample.net) literature survey taxonomy treeï¼š LaTreeX (lautgesetz.com)-åœ¨çº¿ç”Ÿæˆtreeå›¾ç‰‡æˆ–latexæºç ç½‘ç«™ How to Draw a Literature Survey Taxonomy Tree in Latex - Royâ€™s Blog å¼ºåˆ¶å›¾ç‰‡ä½ç½®\\usepackage{float}\\begin{figure}[H]...\\end{figure}åˆ—è¡¨ç®€å•åˆ—è¡¨ä¸€ã€ç¬¬ä¸€é¡¹äºŒã€ç¬¬äºŒé¡¹ä¸‰ã€ç¬¬ä¸‰é¡¹\\begin{enumerate}[label=\\chinese*ã€] \\item ç¬¬ä¸€é¡¹ \\item ç¬¬äºŒé¡¹ \\item ç¬¬ä¸‰é¡¹\\end{enumerate}å¤šçº§åˆ—è¡¨- å¼€å‘ç»„ - æ•°æ®å±‚ --- å‰æœŸ2ä½åŒå­¦ï¼ŒåæœŸ1ä½åŒå­¦ - ä¸»è¦è´Ÿè´£æ•°æ®çš„é‡‡é›†ã€æŠ½å–ä»¥åŠå…¥åº“ç­‰ï¼ˆéœ€è¦äº†è§£neo4jï¼‰ã€‚ - å‰ç«¯ --- 1ä½åŒå­¦ - ä¸»è¦è´Ÿè´£åŠŸèƒ½ç•Œé¢çš„å¯è§†åŒ–ï¼ˆéœ€è¦äº†è§£node.jsï¼‰ã€‚ - åç«¯ --- 1ä½åŒå­¦ - ä¸»è¦è´Ÿè´£ä¸šåŠ¡é€»è¾‘ã€‚- ç ”ç©¶ç»„\\begin{enumerate} \\item å¼€å‘ç»„ \\begin{enumerate} \\item æ•°æ®å±‚ --- å‰æœŸ2ä½åŒå­¦ï¼ŒåæœŸ1ä½åŒå­¦ \\begin{itemize} \\item ä¸»è¦è´Ÿè´£æ•°æ®çš„é‡‡é›†ã€æŠ½å–ä»¥åŠå…¥åº“ç­‰ï¼ˆéœ€è¦äº†è§£neo4jï¼‰ã€‚ \\end{itemize} \\item å‰ç«¯ --- 1ä½åŒå­¦ \\begin{itemize} \\item ä¸»è¦è´Ÿè´£åŠŸèƒ½ç•Œé¢çš„å¯è§†åŒ–ï¼ˆéœ€è¦äº†è§£node.jsï¼‰ã€‚ \\end{itemize} \\item åç«¯ --- 1ä½åŒå­¦ \\begin{itemize} \\item ä¸»è¦è´Ÿè´£ä¸šåŠ¡é€»è¾‘ã€‚ \\end{itemize} \\end{enumerate} \\item ç ”ç©¶ç»„\\end{enumerate}æ¯ä¸€çº§ä¸åŒæ ·å¼çš„å¤šçº§åˆ—è¡¨ç¬¬ä¸€ç«  ç¬¬ä¸€çº§é¡¹ç›® 1.1 ç¬¬äºŒçº§é¡¹ç›® 1.1.1 ç¬¬ä¸‰çº§é¡¹ç›® 1.1.2 ç¬¬ä¸‰çº§é¡¹ç›®ç¬¬äºŒç«  ç¬¬ä¸€çº§é¡¹ç›®\\setlist[enumerate]{itemsep=0pt}\\setlist[enumerate,1]{label=ç¬¬\\chinese*ç« ,itemindent=20pt}\\setlist[enumerate,2]{label=\\arabic{enumi}.\\arabic*,itemindent=-5pt}\\setlist[enumerate,3]{label=\\arabic{enumi}.\\arabic{enumii}.\\arabic*}\\begin{enumerate} \\item ç¬¬ä¸€çº§é¡¹ç›® \\begin{enumerate} \\item ç¬¬äºŒçº§é¡¹ç›® \\begin{enumerate} \\item ç¬¬ä¸‰çº§é¡¹ç›® \\item ç¬¬ä¸‰çº§é¡¹ç›® \\end{enumerate} \\item ç¬¬ä¸€çº§é¡¹ç›® \\end{enumerate}\\end{enumerate}% æ¢å¤é»˜è®¤\\setlist[enumerate]{}\\setlist[enumerate,1]{}\\setlist[enumerate,2]{}\\setlist[enumerate,3]{}å·¥å…· overleaf - åœ¨çº¿ç¼–å†™latexç½‘ç«™ï¼Œæœ‰å¾ˆå¤šç°æˆçš„æ¨¡ç‰ˆï¼Œå¦‚åå¸ˆå¤§æ¯•ä¸šè®ºæ–‡æ¨¡ç‰ˆå’Œpptæ¨¡ç‰ˆï¼› Detexify - æ ¹æ®é¼ æ ‡ç”»å‡ºæ¥çš„å½¢çŠ¶å»æœç´¢ç›¸è¿‘çš„ç¬¦å·åŠå…¶å¯¹åº”çš„latexä»£ç ã€‚åè®°å®˜æ–¹å¼€é¢˜æŠ¥å‘Šä½¿ç”¨äº†ä¸€ä¸ªè·¨é¡µé•¿è¡¨æ ¼æ¥å¡«å……å†…å®¹ï¼Œä¹Ÿæ˜¯å¼€å‘çš„èµ·ç‚¹ã€‚ä¸€å¼€å§‹åŸºäºä¸Šæµ·äº¤å¤§å¼€é¢˜æŠ¥å‘Šæ¨¡æ¿ï¼Œä¿®æ”¹åˆ¶ä½œlatexæ¨¡ç‰ˆæ—¶ï¼Œç”¨äº†é”™è¯¯çš„xltabularåŒ…ï¼Œå¯¼è‡´å†™çš„æ—¶å€™å¤±å»äº†latexè‡ªåŠ¨åŒ–çš„ä¼˜åŠ¿ï¼Œåè€Œè€—è´¹äº†å¾ˆå¤§çš„åŠŸå¤«å»å…¨æ‰‹åŠ¨çš„å†™ä¸œè¥¿ã€‚å››åˆ†ä¹‹ä¸€æ—¶é—´åœ¨å†™æŠ¥å‘Šï¼Œå‰©ä¸‹çš„æ—¶é—´å…¨åœ¨è°ƒæ ¼å¼debugã€‚æ€¥æ€¥å¿™å¿™äº¤å®Œäº†æŠ¥å‘Šåï¼Œå›è¿‡å¤´çœ‹ï¼Œå‘ç°äº†éå¸¸åˆé€‚çš„mdframedåŒ…ï¼Œé‡æ„äº†æŠ¥å‘Šçš„æ­£æ–‡éƒ¨åˆ†ï¼Œå› æ­¤æœ‰äº†æœ¬æ–‡å’Œgithubä»“åº“ã€‚å‚è€ƒ SJTU Thesis Proposal ä¸Šæµ·äº¤å¤§å¼€é¢˜æŠ¥å‘Šæ¨¡æ¿" }, { "title": "MacOSé€šè¿‡QEMUå¯åŠ¨openEuler RISC-V", "url": "/posts/qemu-openeuler-riscv/", "categories": "Linux", "tags": "Linux, RISC-V", "date": "2024-03-25 00:00:00 +0800", "snippet": "å®‰è£…qemuå®‰è£…ä¾èµ–ï¼šbrew install gawk gnu-sed gmp mpfr libmpc isl zlib expatå®‰è£…qemuï¼šbrew install qemuä¸‹è½½openEulerçš„é•œåƒä»ç½‘ç«™ä¸­é€‰æ‹©ç‰ˆæœ¬ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©äº†openEuler-23.09-V1-riscv64(ç½‘å€)å¦‚æœæƒ³è¦æ¡Œé¢ç³»ç»Ÿï¼Œè®°å¾—ä¸‹è½½å¸¦æœ‰xfceçš„ä¿è¯å½“å‰ç›®å½•ä¸‹æœ‰ä¸€ä¸ªå¯åŠ¨è„šæœ¬.shï¼Œä¸€ä¸ªbinæ–‡ä»¶å’Œä¸€ä¸ªzstæ–‡ä»¶ï¼Œè§£å‹ç¼©zstæ–‡ä»¶ï¼Œå¹¶å°†shæ–‡ä»¶å’Œbinæ–‡ä»¶å’Œè§£å‹ç¼©åçš„qcow2æ–‡ä»¶æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­å¯åŠ¨openEuleræ‰§è¡Œè„šæœ¬å¯åŠ¨ï¼š bash start_vm_xfce.shæ‰§è¡Œåå‘ç°è„šæœ¬ä¸­ä¸¤å¤„å‚æ•°å¤±æ•ˆï¼ŒæŸ¥çœ‹qemu-system-riscv64 --helpå’Œqemu-system-riscv64 -audiodev helpçš„ç›¸å…³ä¿¡æ¯åï¼Œä¿®æ”¹å‚æ•°ä¸ºï¼š... -display cocoa,show-cursor=on \\ -audiodev coreaudio,id=snd0 \\å¯åŠ¨åï¼Œé»˜è®¤çš„ç”¨æˆ·openeulerï¼Œå¯†ç æ˜¯openEuler12#$å‚è€ƒ oerv-pretaskï¼ˆä¸€ï¼‰é€šè¿‡ QEMU ä»¿çœŸ RISC-V ç¯å¢ƒå¹¶å¯åŠ¨ openEuler RISC-V ç³»ç»Ÿï¼Œè®¾æ³•è¾“å‡º neofetch ç»“æœå¹¶æˆªå›¾æäº¤ - çŸ¥ä¹ (zhihu.com) Running 64- and 32-bit RISC-V Linux on QEMU â€” RISC-V - Getting Started Guide (risc-v-getting-started-guide.readthedocs.io)" }, { "title": "è§£å†³MacOSä¸Šzshåœ¨git addæ—¶tabè¡¥å…¨å¡ä½çš„é—®é¢˜", "url": "/posts/pain-in-the-ass/", "categories": "MacOS", "tags": "MacOS", "date": "2024-03-25 00:00:00 +0800", "snippet": "é—®é¢˜æè¿°åœ¨MacOSä¸Šï¼Œé€šè¿‡zshåœ¨gitä»“åº“ä¸­ä½¿ç”¨git addå‘½ä»¤å¹¶ç”¨tabé”®è¡¥å…¨è·¯å¾„æ—¶å¡ä½ã€‚å°è¯•Git tab completion not working in zsh on mac - stackoverflowæ’åé å‰çš„æ–¹æ³•æ— æ•ˆã€‚ä¹‹å‰ä½¿ç”¨Warpæ–°çš„ç»ˆç«¯å·¥å…·æ¥ç»•è¿‡è¿™ä¸ªé—®é¢˜ã€‚è§£å†³æ–¹æ¡ˆæ ¹æ®stackoverflowä¸Š2024æœ€æ–°çš„å›ç­”ï¼Œåœ¨~/.zshrcä¸­æ·»åŠ ï¼š# Init Homebrew to get `HOMEBREW_PREFIX`eval \"$(brew shellenv)\"# Delete brew's objectively worse git completionremove_conflicting_git_completions() { local git_completion_bash=\"$HOMEBREW_PREFIX/share/zsh/site-functions/git-completion.bash\" local git_completion_zsh=\"$HOMEBREW_PREFIX/share/zsh/site-functions/_git\" [ -e \"$git_completion_bash\" ] &amp;&amp; rm \"$git_completion_bash\" [ -e \"$git_completion_zsh\" ] &amp;&amp; rm \"$git_completion_zsh\"}# This needs to run every time since brew sometimes brings those files backremove_conflicting_git_completions# Add Homebrew's site functions to fpath (minus git, because that causes conflicts)# This will give you autocomplete for _other_ things you installed# from brew (like `just`, or `exa`, or `k6`)fpath=($HOMEBREW_PREFIX/share/zsh/site-functions $fpath)æ‰§è¡Œä¸€æ¬¡åå³å¯ä¿®å¤ï¼Œå³ä½¿æ‰§è¡Œååˆ å»ä¸Šæ–‡ä¸­çš„ä»£ç ä¹Ÿæ²¡äº‹,ä¾æ—§å¯æ­£å¸¸è¡¥å…¨ï¼Œä¸ä¼šå†å¡ä½ã€‚" }, { "title": "linux-system()å‡½æ•°ç¬”è®°", "url": "/posts/linux-system-function/", "categories": "Linux", "tags": "Linux", "date": "2023-11-01 00:00:00 +0800", "snippet": "linux-system()å‡½æ•° å°ç»“ï¼š systemæ‰§è¡Œå‘½ä»¤çš„æœŸé—´ä¸»è¿›ç¨‹æ”¶åˆ°çš„SIGINTå’ŒSIGQUITä¼šè¢«å¿½ç•¥ï¼ˆposix.1è§„å®šï¼‰ï¼ŒåŸå› æ˜¯posixä¸å¸Œæœ›ä¸»è¿›ç¨‹å“åº”systemå­è¿›ç¨‹çš„SIGINTå’ŒSIGQUITä¿¡å· éé˜»å¡ç‰ˆæœ¬ï¼špopen() Do not use system() from a program with set-user-ID or set-group-ID privileges è¿”å›å€¼å¤šï¼Œå°å¿ƒå¤„ç† æ‰§è¡Œè¿‡ç¨‹ï¼šfork ()-&gt;exec ()-&gt;waitpid () å­è¿›ç¨‹æ˜¯çˆ¶è¿›ç¨‹çš„å‰¯æœ¬ï¼Œå¯èƒ½ä¼šå¢åŠ å†…å­˜æ¶ˆè€—ä½¿ç”¨å»ºè®®ï¼š1ã€å»ºè®® system () å‡½æ•°åªç”¨æ¥æ‰§è¡Œ shell å‘½ä»¤ï¼Œå› ä¸ºä¸€èˆ¬æ¥è®²ï¼Œsystem () è¿”å›å€¼ä¸æ˜¯ 0 å°±è¯´æ˜å‡ºé”™äº†ï¼›2ã€å»ºè®®ç›‘æ§ä¸€ä¸‹ system () å‡½æ•°çš„æ‰§è¡Œå®Œæ¯•åçš„ errno å€¼ï¼Œäº‰å–å‡ºé”™æ—¶ç»™å‡ºæ›´å¤šæœ‰ç”¨ä¿¡æ¯ï¼›3ã€å»ºè®®è€ƒè™‘ä¸€ä¸‹ system () å‡½æ•°çš„æ›¿ä»£å‡½æ•° popen ()ï¼›é£é™©å®‰å…¨é—®é¢˜åœ¨ç¼–å†™å…·æœ‰SUID/SGIDæƒé™çš„ç¨‹åºæ—¶è¯·å‹¿ä½¿ç”¨systemå‡½æ•°ï¼Œsystemå‡½æ•°ä¼šç»§æ‰¿ç¯å¢ƒå˜é‡ï¼Œé€šè¿‡ç¯å¢ƒå˜é‡å¯èƒ½ä¼šé€ æˆç³»ç»Ÿå®‰å…¨çš„é—®é¢˜ã€‚ Do not use system() from a program with set-user-ID or set-group-ID privileges, because strange values for some environment variables might be used to subvert system integrity. Use the exec(3) family of functions instead, but not execlp(3) or execvp(3). system() will not, in fact, work properly from programs with set-user-ID or set-group-ID privileges on systems on which /bin/sh is bash version 2, since bash 2 drops privileges on startup. (Debian uses a modified bash which does not do this when invoked as sh.)è¯¦è§£ï¼šSUID æ˜¯ Set User IDï¼ŒSGID æ˜¯ Set Group IDçš„æ„æ€ã€‚åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œè¿™ä¸¤ç§æƒé™ä¸»è¦ç”¨äºæ§åˆ¶æ–‡ä»¶è®¿é—®ã€‚å½“ä¸€ä¸ªç¨‹åºè¢«è®¾ç½®äº† SUID æˆ– SGID æƒé™åï¼Œç”¨æˆ·åœ¨æ‰§è¡Œè¯¥ç¨‹åºæ—¶ï¼Œä¼šä¸´æ—¶è·å¾—è¯¥ç¨‹åºæ–‡ä»¶çš„æ‰€æœ‰è€…æˆ–æ‰€å±ç»„çš„æƒé™Â¹Â²â·â¸ã€‚SUID/SGID æƒé™ä¸»è¦åº”ç”¨åœ¨äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ä¸ŠÂ¹Â²ã€‚ä¾‹å¦‚ï¼Œå½“æ™®é€šç”¨æˆ·éœ€è¦ä¿®æ”¹è‡ªå·±çš„å¯†ç æ—¶ï¼Œä»–ä»¬éœ€è¦è®¿é—® /etc/shadow æ–‡ä»¶ï¼Œä½†è¿™ä¸ªæ–‡ä»¶é€šå¸¸åªæœ‰ root ç”¨æˆ·æ‰æœ‰è¯»å†™æƒé™ã€‚æ­¤æ—¶ï¼Œå¦‚æœ passwd å‘½ä»¤ï¼ˆç”¨äºä¿®æ”¹å¯†ç ï¼‰è¢«è®¾ç½®äº† SUID æƒé™ï¼Œå¹¶ä¸”è¯¥å‘½ä»¤çš„æ‰€æœ‰è€…æ˜¯ root ç”¨æˆ·ï¼Œé‚£ä¹ˆæ™®é€šç”¨æˆ·åœ¨æ‰§è¡Œ passwd å‘½ä»¤æ—¶å°±ä¼šä¸´æ—¶è·å¾— root ç”¨æˆ·çš„æƒé™ï¼Œä»è€Œå¯ä»¥ä¿®æ”¹ /etc/shadow æ–‡ä»¶Â¹Â²ã€‚ç„¶è€Œï¼Œåœ¨ç¼–å†™å…·æœ‰ SUID/SGID æƒé™çš„ç¨‹åºæ—¶ä½¿ç”¨ system å‡½æ•°å¯èƒ½ä¼šå¸¦æ¥å®‰å…¨é—®é¢˜ã€‚å› ä¸º system å‡½æ•°ä¼šç»§æ‰¿ç¯å¢ƒå˜é‡ï¼Œæ”»å‡»è€…å¯èƒ½é€šè¿‡ä¿®æ”¹ç¯å¢ƒå˜é‡æ¥æ‰§è¡Œæ¶æ„å‘½ä»¤ã€‚ä¾‹å¦‚ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡ä¿®æ”¹ PATH ç¯å¢ƒå˜é‡ï¼Œä½¿å¾—å…·æœ‰ SUID/SGID æƒé™çš„ç¨‹åºåœ¨è°ƒç”¨ system å‡½æ•°æ‰§è¡ŒæŸä¸ªç³»ç»Ÿå‘½ä»¤æ—¶ï¼Œå®é™…ä¸Šæ‰§è¡Œçš„æ˜¯æ”»å‡»è€…æä¾›çš„æ¶æ„ç¨‹åºã€‚å› æ­¤ï¼Œä¸ºäº†é¿å…è¿™ç§æ½œåœ¨çš„å®‰å…¨é£é™©ï¼Œæˆ‘ä»¬é€šå¸¸å»ºè®®åœ¨ç¼–å†™å…·æœ‰ SUID/SGID æƒé™çš„ç¨‹åºæ—¶é¿å…ä½¿ç”¨ system å‡½æ•°ã€‚â¹å‚è€ƒBing 2023/11/1ï¼š(2) linuxï¼šSUIDã€SGIDè¯¦è§£ - çŸ¥ä¹. https://zhuanlan.zhihu.com/p/166468556. (3) Linuxä¸­æ–‡ä»¶ç‰¹æ®Šæƒé™suidã€sgidã€stickyï¼ˆæœ‰å›¾è¯¦ç»†è®²è§£ â€¦. https://blog.csdn.net/MssGuo/article/details/120754324. (4) Linuxç‰¹æ®Šæƒé™ä¹‹SUID - ç®€ä¹¦. https://www.jianshu.com/p/4ea1e6aa2aa7. (5) Linux SetGIDï¼ˆSGIDï¼‰æ–‡ä»¶ç‰¹æ®Šæƒé™ç”¨æ³•è¯¦è§£ - Cè¯­è¨€ä¸­æ–‡ç½‘. https://c.biancheng.net/view/870.html. (6) å…·æœ‰ SUID/SGID æƒé™çš„å‘½ä»¤è¿è¡ŒçŠ¶æ€-CSDNåšå®¢. https://blog.csdn.net/wangzengdi/article/details/32173353. (7) LINUXä¸­suid/guidæŒ‡ä»€ä¹ˆï¼Ÿ-CSDNåšå®¢. https://bing.com/search?q=SUID%2FSGIDæƒé™æ˜¯ä»€ä¹ˆæ„æ€. (8) Linux ç‰¹æ®Šæƒé™ SUID,SGID,SBIT - sparkdev - åšå®¢å›­. https://www.cnblogs.com/sparkdev/p/9651622.html. (9) LINUXä¸­suid/guidæŒ‡ä»€ä¹ˆï¼Ÿ-CSDNåšå®¢. https://blog.csdn.net/chimu9074/article/details/100605347. (10) LINUXä¸­suid,sgidæ˜¯ç”¨æ¥å¹²å˜›çš„ï¼Ÿæ€ä¹ˆä½¿ç”¨ï¼Ÿ - ç™¾åº¦çŸ¥é“. https://zhidao.baidu.com/question/189879510.html.æ¡ˆä¾‹-SIGCHLD ä¿¡å·å¤„ç†æ–¹å¼å˜æ›´å¯¼è‡´\"No child processes\"ã€C/C++ã€‘Linuxä¸‹system()å‡½æ•°å¼•å‘çš„é”™è¯¯ - æ‹æ‹ç¾é£Ÿçš„ä¸ªäººç©ºé—´ - OSCHINA - ä¸­æ–‡å¼€æºæŠ€æœ¯äº¤æµç¤¾åŒºç›¸å…³çŸ¥è¯†ä¸ºä½•ä¼šé˜»å¡SIGCHLD ä¿¡å·åœ¨Linuxä¸­forkçš„å­è¿›ç¨‹ç»“æŸåï¼Œå†…æ ¸ä¼šå‘å…¶çˆ¶è¿›ç¨‹å‘é€SIGCHLDä¿¡å·ï¼Œå³systemå‡½æ•°çš„è°ƒç”¨è€…ï¼Œsystemæºç ä¸­çˆ¶è¿›ç¨‹æ˜¯è°ƒç”¨waitpidå‡½æ•°æ¥ä¸ºå˜æˆåƒµå°¸çš„å­è¿›ç¨‹è¿›è¡Œå›æ”¶ï¼Œè·å¾—å…¶ç»“æŸçŠ¶æ€ï¼Œç„¶åå°†è¿™ä¸ªç»“æŸçŠ¶æ€è¿”å›ç»™systemå‡½æ•°çš„è°ƒç”¨è€…ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨è°ƒç”¨systemä¹‹å‰ä¸èƒ½å»æ³¨å†ŒSIGCHLD ä¿¡å·çš„å¤„ç†å‡½æ•°ï¼Œå¦‚åœ¨ä¿¡å·å¤„ç†å‡½æ•°ä¸­è¿›è¡Œwaitç­‰æ“ä½œï¼Œsystemå‡½æ•°ä¸­çš„ waitpidå°†å¯èƒ½è·å–ä¸åˆ°å­è¿›ç¨‹æ­£ç¡®è¿”å›çŠ¶æ€ï¼Œå› ä¸ºå­è¿›ç¨‹å¯èƒ½è¢«ä¿¡å·å¤„ç†å‡½æ•°æŠ¢å…ˆå›æ”¶ï¼›ä»¥ä¸‹æ˜¯åœ¨å®é™…é¡¹ç›®ä¸­å°è£…å¥½çš„systemæ¨¡æ¿å‡½æ•°ï¼štypedef void (*sighandler_t)(int);int os_system(const char *cmd){ int ret = 0; sighandler_t old_handler; old_handler = signal(SIGCHLD, SIG_DFL); ret = system(cmd); signal(SIGCHLD, old_handler); return ret;}old_handler =signal(SIGCHLD, SIG_DFL); åœ¨è°ƒç”¨systemå‰å°†SIGCHLDä¿¡å·çš„å¤„ç†å‡½æ•°æ³¨å†Œä¸ºSIG_DFLï¼Œåœ¨Linux ä¸­SIG_DFLçš„ä½œç”¨å°±æ˜¯å¿½ç•¥çš„æ„æ€;signal(SIGCHLD, old_handler);åœ¨è°ƒç”¨å®Œåå°† SIGCHLDçš„å¤„ç†å‡½æ•°æ¢å¤æˆè°ƒç”¨å‰çš„å¤„ç†å‡½æ•°ã€‚SIGCHLDSIGCHLD æ˜¯ä¸€ä¸ªåœ¨ Unix-like ç³»ç»Ÿä¸­çš„ä¿¡å·ï¼Œå½“ä¸€ä¸ªè¿›ç¨‹ç»“æŸæˆ–è€…åœæ­¢æ—¶ï¼Œä¼šå‘é€ SIGCHLD ä¿¡å·ç»™å…¶çˆ¶è¿›ç¨‹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ªä¿¡å·ä¼šè¢«å¿½ç•¥ã€‚ä½†æ˜¯ï¼Œå¦‚æœçˆ¶è¿›ç¨‹å¸Œæœ›è¢«å‘ŠçŸ¥å…¶å­è¿›ç¨‹çš„çŠ¶æ€å˜åŒ–ï¼Œé‚£ä¹ˆå®ƒåº”è¯¥æ•è·è¿™ä¸ªä¿¡å·Â¹ã€‚â€œSIGCHLD å°†è¢«é˜»å¡â€æ˜¯æŒ‡ SIGCHLD ä¿¡å·è¢«æš‚æ—¶æŒ‚èµ·ï¼Œä¸ä¼šç«‹å³é€è¾¾åˆ°çˆ¶è¿›ç¨‹ã€‚åœ¨ Unix-like ç³»ç»Ÿä¸­ï¼Œå¯ä»¥é€šè¿‡ä¿¡å·æ©ç æ¥é˜»å¡ç‰¹å®šçš„ä¿¡å·ã€‚å½“ä¸€ä¸ªä¿¡å·è¢«é˜»å¡æ—¶ï¼Œå³ä½¿è¯¥ä¿¡å·äº§ç”Ÿäº†ï¼Œä¹Ÿä¸ä¼šç«‹å³é€è¾¾åˆ°è¿›ç¨‹ï¼Œè€Œæ˜¯å¤„äºæœªå†³çŠ¶æ€ã€‚åªæœ‰å½“è¯¥ä¿¡å·è¢«è§£é™¤é˜»å¡åï¼Œæ‰ä¼šé€è¾¾åˆ°è¿›ç¨‹â´ã€‚ä¾‹å¦‚ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›åœ¨çˆ¶è¿›ç¨‹å®Œæˆå¯¹ SIGCHLD ä¿¡å·å¤„ç†å‡½æ•°çš„è®¾ç½®ä¹‹å‰é˜»å¡ SIGCHLD ä¿¡å·ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿åœ¨æ‰€æœ‰å­è¿›ç¨‹ç»“æŸä¹‹å‰ï¼Œçˆ¶è¿›ç¨‹èƒ½å¤Ÿå®Œæˆå¯¹ SIGCHLD ä¿¡å·çš„å¤„ç†å‡½æ•°çš„è®¾ç½®ã€‚å¦åˆ™ï¼Œå¦‚æœæ‰€æœ‰å­è¿›ç¨‹éƒ½ç»“æŸäº†ï¼Œè€Œçˆ¶è¿›ç¨‹è¿˜æ²¡æœ‰å®Œæˆè®¾ç½®ï¼Œåˆ™æ­¤æ—¶çš„ SIGCHLD ä¿¡å·éƒ½ä¼šè¢«å¿½ç•¥ï¼Œä»è€Œå¯¼è‡´å­è¿›ç¨‹ä¸èƒ½è¢«çˆ¶è¿›ç¨‹å›æ”¶Â¹ã€‚å‚è€ƒBing 2023/11/1ï¼š (1) SIGCHLDä¿¡å·-CSDNåšå®¢. https://blog.csdn.net/qq_33883085/article/details/89325396. (2) systemé˜»å¡SIGCHLDä¿¡å·åŸå› _sigchld system-CSDNåšå®¢. https://blog.csdn.net/wwlhsgs/article/details/50721681. (3) SIGCHLDä¿¡å·è¯¦è§£ - æ˜é‡‘. https://juejin.cn/post/7245145631181996090. (4) linuxä¸‹wait/waitpidå¤„ç†åƒµæ­»è¿›ç¨‹è¯¦è§£(SIGCHLDä¿¡å·) - çŸ¥ä¹. https://zhuanlan.zhihu.com/p/272700092.forkä¸æ„å‘³ç€å­è¿›ç¨‹ä¼šæ¶ˆè€—å’Œçˆ¶è¿›ç¨‹ä¸€æ ·å¤šçš„ç‰©ç†å†…å­˜åœ¨ Unix-like ç³»ç»Ÿä¸­ï¼Œfork() å‡½æ•°ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œè¿™ä¸ªæ–°è¿›ç¨‹æ˜¯çˆ¶è¿›ç¨‹çš„ä¸€ä¸ªå‰¯æœ¬ã€‚ä½†æ˜¯ï¼Œè¿™å¹¶ä¸æ„å‘³ç€å­è¿›ç¨‹ä¼šæ¶ˆè€—å’Œçˆ¶è¿›ç¨‹ä¸€æ ·å¤šçš„ç‰©ç†å†…å­˜Â¹Â²Â³â´ã€‚å®é™…ä¸Šï¼Œå¤§å¤šæ•°ç°ä»£çš„ Unix-like ç³»ç»Ÿï¼ˆåŒ…æ‹¬ Linuxï¼‰åœ¨å®ç° fork() å‡½æ•°æ—¶ï¼Œé‡‡ç”¨äº†ä¸€ç§ç§°ä¸ºå†™æ—¶å¤åˆ¶ï¼ˆCopy-On-Writeï¼Œç®€ç§° COWï¼‰çš„æŠ€æœ¯æ¥ä¼˜åŒ–å†…å­˜ä½¿ç”¨âµã€‚å½“è°ƒç”¨ fork() å‡½æ•°åˆ›å»ºå­è¿›ç¨‹æ—¶ï¼Œå­è¿›ç¨‹çš„ç”¨æˆ·çº§è™šæ‹Ÿåœ°å€ç©ºé—´ä¼šå’Œçˆ¶è¿›ç¨‹å…±äº«ç›¸åŒçš„ç‰©ç†é¡µå¸§Â¹Â²Â³â´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œçˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹åœ¨å†…å­˜ä¸­çš„ä»£ç æ®µã€æ•°æ®æ®µã€å †æ®µå’Œæ ˆæ®µéƒ½æŒ‡å‘ç›¸åŒçš„ç‰©ç†å†…å­˜âµã€‚åªæœ‰å½“çˆ¶è¿›ç¨‹æˆ–å­è¿›ç¨‹è¯•å›¾ä¿®æ”¹æŸä¸ªå…±äº«é¡µé¢æ—¶ï¼Œç³»ç»Ÿæ‰ä¼šä¸ºä¿®æ”¹æ“ä½œçš„è¿›ç¨‹åˆ›å»ºè¯¥é¡µé¢çš„ä¸€ä¸ªå‰¯æœ¬âµã€‚è¿™æ ·ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œè€Œä¸”åªæœ‰åœ¨å¿…è¦æ—¶æ‰ä¼šå¤åˆ¶å†…å­˜é¡µé¢ï¼Œä»è€Œæœ‰æ•ˆåœ°èŠ‚çœäº†ç‰©ç†å†…å­˜âµã€‚æ‰€ä»¥ï¼Œè™½ç„¶ fork() ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œä½†å¹¶ä¸ä¼šç«‹å³æ¶ˆè€—å’Œçˆ¶è¿›ç¨‹ä¸€æ ·å¤šçš„ç‰©ç†å†…å­˜Â¹Â²Â³â´âµã€‚å‚è€ƒBing 2023/11/1ï¼š (1) è¿›ç¨‹ç³»ç»Ÿè°ƒç”¨â€”â€”forkå‡½æ•°æ·±å…¥ç†è§£(ä»£ç æ¼”ç¤º) - çŸ¥ä¹. https://zhuanlan.zhihu.com/p/422928238. (2) forkï¼ˆï¼‰å‡½æ•° - çŸ¥ä¹. https://zhuanlan.zhihu.com/p/422099192. (3) ã€Linuxã€‘å…³äºç†è§£fork()å‡½æ•°çš„ç®€å•ä¾‹å­ - çŸ¥ä¹. https://zhuanlan.zhihu.com/p/91616048. (4) Linuxä¸­forkå‡½æ•°çš„ä½œç”¨åŠç”¨æ³•-CSDNåšå®¢. https://blog.csdn.net/weixin_40853073/article/details/81873398. (5) forkä¹‹åçˆ¶å­è¿›ç¨‹çš„å†…å­˜å…³ç³»_çˆ¶è¿›ç¨‹ forkå­è¿›ç¨‹ å†…å­˜-CSDNåšå®¢. https://blog.csdn.net/shreck66/article/details/47039937.å‚è€ƒ Bing AI Linuxä¸‹çš„systemå‡½æ•°åº”è¯¥è¿™æ ·ç”¨ - çŸ¥ä¹ (zhihu.com) [ğŸŒŸ]å®ä¼Ÿç²¾è®²Â·linux system()å‡½æ•°å®Œå…¨è§£å¯† - çŸ¥ä¹ (zhihu.com) linuxï¼šSUIDã€SGIDè¯¦è§£ - çŸ¥ä¹ (zhihu.com)" }, { "title": "ã€è®ºæ–‡ç¬”è®°ã€‘Billion-scale similarity search with GPUs", "url": "/posts/faiss/", "categories": "DBMS", "tags": "Paper, Vector Database, Similarity Search, k-selection", "date": "2023-10-27 00:00:00 +0800", "snippet": "BriefIn this paper, Faiss aims to utilize GPUs for similar search find workload by a design of k-selection. It is based on the method of product quantization (PQ) codes, which origin proposal is IVFADC. Therefore, it is able to handle billion-scale datasets or non-exhaustive search. For the YFCC100M dataset, Faiss takes in 35 minutes to construct a high accuracy k-NN graph on 95 million images. Construction of a graph connecting 1 billion vectors in less than 12 hours on 4 Maxwell Titan X GPUs.This paper makes three main contributions: A GPU k-selection algorithm, operating in fast register memory and flexible enough to be fusable with other kernels, which the paper provide a complexity analysis; A near-optimal algorithmic layout for exact and approximate k-nearest neighbor search on GPU; A range of experiments that show that these improvements outperform previous art by a large margin on mid- to large-scale nearest-neighbor search tasks, in single or multi-GPU configurations.BackgroundFaiss is an open-source clustering and similarity search library developed by Facebook AI, providing efficient similarity search and clustering for dense vectors on RAM-only. It supports searches for billions of vectors and is currently the most mature nearest neighbor search library. It contains multiple algorithms for searching for vector sets of any size for which is determined by RAM memory.Binary codes and quantization methods are two most popular vector compression categories. Both two search neighbors that does not require reconstructing the vectors.Reference J. Johnson, M. Douze, and H. JÃ©gou, â€œBillion-scale similarity search with gpus,â€ IEEE Transactions on Big Data, vol. 7, no. 3, pp. 535â€“547, 2019, doi: 10.1109/TBDATA.2019.2921572." }, { "title": "ã€è®ºæ–‡ç¬”è®°ã€‘Automatic Database Knob Tuning: A Survey", "url": "/posts/knob-tuning/", "categories": "DBMS", "tags": "Paper, AI4DB, Knob Tuning", "date": "2023-10-20 00:00:00 +0800", "snippet": "BriefThe key idea of automatic knob tuning is that, with the help of machine learning techniques, it is reasonable to collect knob tuning data, leverage these data to train a knob tuning model, and utilize the tuning model to recommend knob settings for new similar scenarios, so as to achieve the optimization objectives.ProblemsTune objectives: performance. (1) throughput (2) latency improve resource utilization or reduce maintenance costs without sacrificing performance.Most existing machine learning methods cannot directly provide recommend high-quality knob settings for new tuning tasks and have a long time to train from scratch. Therefore, transfer techniques need to be reviewed.Methods and ChallengesKnob selection includes empirical-based strategies and ranking-based strategies. They rely on some simple assumptions (e.g., assuming the linear relations between knobs and performance). Second, they cannot capture the correlations of knobs. Third, they may miss valuable knobs. Moreover, they rely on a large number of samples to find important knobs and may cause performance regression when the workloads change.Tuning features are broadly divided into workload features and database metric features. It is vital to design an interpretable feature selection methodology that can automatically select tuning features with reasonable justifications. Besides, apart from historical workloads, there are some techniques that help to predict future workload trends, which can be more useful in tuning the configuration knobs.As the knob tuning problem is NP-hard, existing tuning methods have four categories, i.e., (i) heuristic methods, (ii) Bayesian optimization-based methods, (iii) deep-learning-based methods, (iv) reinforcement-learning-based methods. Open challenges involves in data distribution aware configuration tuning, incremental configuration tuning and tuning performance prediction.It is vital to achieve practical learned tuning methods in real scenarios. Thus, transfer techniques are proposed to support dynamic scenarios at different levels. It is challenging to manually select tuning models and adjust the parameters between various ML models. Moreover, it is hard to evaluate whether a learned model is effective in most scenarios, for which a validation model is required.The paper also discuss how to deploy existing knob tuning techniques for relational databases and big-data systems. In addition, the paper discuss three configuration tuning problems beyond knobs, including index tuning, view tuning, and partition tuning.Reference X. Zhao, X. Zhou, and G. Li, â€œAutomatic Database Knob Tuning: A Survey,â€ IEEE Transactions on Knowledge and Data Engineering, 2023, Accessed: Oct. 02, 2023. [paper]" }, { "title": "ã€è®ºæ–‡ç¬”è®°ã€‘Building An Elastic Query Engine on Disaggregated Storage", "url": "/posts/snowflake/", "categories": "DBMS", "tags": "Paper, OLAP, Cloud Native, Disaggregated Storage", "date": "2023-10-13 00:00:00 +0800", "snippet": "BriefSnowflake decouple compute and persistent storage, providing warehousing as a service. It is in production for over 7 years.DesignIntermediate data is generated by query operators (e.g., joins) and is usually consumed by nodes participating in executing that query. It is short-lived, and prefer low-latency high-throughput access.As nodes are added and removed, the ephemeral storage system does not require data repartitioning or reshuffling. Tasks executing query operations (e.g., joins) on a given compute node write intermediate data locally; and, tasks consuming the intermediate data read it either locally or remotely over the network (depending on the node where thetask is scheduled).Elasticity: Persistent storage - easy, offloaded to S3 Compute - easy, pre-warmed pool of VMs Ephemeral storage - challenging, due to co-location with computeKey finding: Customers submit a wide variety of query types. Intermediate data sizes can vary over multiple orders of magnitude across queries. Even with a small amount of local storage capacity, skewed access distributions and temporal access patterns common in data warehouses enable reasonably high average cache hit rates (60-80% depending on the type of query) for persistent data accesses. Several of our customers exploit our support for elasticity (for 20% of the clusters). Peak resource utilization can be high, the average resource utilization is usually low.Reference M. Vuppalapati, J. Miron, R. Agarwal, D. Truong, A. Motivala, and T. Cruanes, â€œBuilding an elastic query engine on disaggregated storage,â€ in 17th USENIX Symposium on Networked Systems Design and Implementation (NSDI 20), 2020, pp. 449â€“462. Accessed: Oct. 02, 2023. [paper] [video]" }, { "title": "ã€è®ºæ–‡ç¬”è®°ã€‘Polynesia: Enabling High-Performance and Energy-Efficient Hybrid Transactional/Analytical Databases with Hardware/Software Co-Design", "url": "/posts/polynesia/", "categories": "DBMS", "tags": "Paper, HTAP, PIM", "date": "2023-10-03 00:00:00 +0800", "snippet": "BriefNowadays, many applications need to perform real-time data analysis using an HTAP system. An ideal HTAP system should have three properties: Data freshness and consistency. Workload-specific optimization. Performance isolation.However, prior works cannot achieve all these properties. The paper divides the system into transactional and analytical processing islands, which enables workload-specific optimizations and performance isolation. It introduces Polynesia, a novel hardware/software cooperative design for in-memory HTAP databases. Polynesia implements custom algorithms and hardware to reduce the costs of data freshness and consistency. It also exploits PIM for analytical processing to alleviate data movement. In result, Polynesia has average transactional/analytical throughput improvements of 1.7x/3.7x and 48% reduction on energy consumption, compared to three state-of-the-art HTAP systems.Design and EvaluationThe key idea of Polynesia is partition computing resources into two types of isolated and specialized processing islands. By isolating transactional islands from analytical islands, Polynesia apply workload-specific optimizations to each island, avoid high main memory contention, and design efficient data freshness and consistency mechanism without incurring high data movement costs.Reference Boroumand, A., Ghose, S., Oliveira, G.F., Mutlu, O., 2022. Polynesia: Enabling High-Performance and Energy-Efficient Hybrid Transactional/Analytical Databases with Hardware/Software Co-Design, in: 2022 IEEE 38th International Conference on Data Engineering (ICDE). IEEE, pp. 2997â€“3011. [paper][video1-short][video2-long]" }, { "title": "ã€è®ºæ–‡åˆ†äº«ã€‘Pando: Enhanced Data Skipping with Logical Data Partitioning", "url": "/posts/pando/", "categories": "DBMS", "tags": "Paper, Data Skipping", "date": "2023-09-23 00:00:00 +0800", "snippet": "Learned LayoutsQd-treeMTOPandoResults*dip: Data-induced predicates is a concept in the database field that uses data statistics to convert predicates on a table into data-induced predicates suitable for joining tables. Doing this can significantly speed up multi-relational queries because the benefits of predicate pushdown can now be applied to tables other than the table with the predicate.SummaryPando: metadata-rich data layout framework.Significant reduction in the amount of I/O performed jointly optimizing the physical layout of the data multiple correlation-aware logical partitionings(not covered)å‚è€ƒ Yang, Z. et al. 2020. Qd-tree: Learning data layouts for big data analytics. Proceedings of the 2020 ACM SIGMOD International Conference on Management of Data (2020), 193â€“208. [paper] [video] [â­] Ding, J. et al. 2021. Instance-optimized data layouts for cloud analytics workloads. Proceedings of the 2021 International Conference on Management of Data (2021), 418â€“431. [paper] [video] Sudhir, S. et al. 2023. Pando: Enhanced Data Skipping with Logical Data Partitioning. Proceedings of the VLDB Endowment. 16, 9 (2023), 2316â€“2329. [paper] " }, { "title": "ã€è®ºæ–‡ç¬”è®°ã€‘Optimal column layout for hybrid workloads", "url": "/posts/casper/", "categories": "DBMS", "tags": "Paper, HTAP, Data Layout, Hybrid Workloads", "date": "2023-09-22 00:00:00 +0800", "snippet": "IntroductionFor HTAP databases, there are two conflicting goals: Append new data for fast ingestion. Organize/sort data for fast querying. Ideally, a HTAP database should achieve these goals by having dense sorted columns to support scans and selective queries with minimal update cost. However, what is usually a good data layout for an update-heavy workload, is not well-suited for a read-mostly one and vice versa.Therefore, the paper introduces Casper, a storage engine has workload-aware optimal colum layout, which fixes the problem of using fix method to handle hybrid workloads.Design PrimitivesNormally, there are three kinds of data organizations: append order, sorted and partitioned.Global data layout decisions miss opportunities for fine-grained optimization. Meanwhile, optimal layout through fine-grained local decisions has massive performance benefits. To achieve this, the system depends on the exact workload. For append order and sorted organization, they apply global decisions. The partitioned allows for different fine-grained local decisions in different parts of the domain. Casper achieve that by using access frequency method.In Figure 1, no order type is good for scans and for appends. Sorted + delta type is good for selective queries and a few updates. Paper assumes that partitions wih non-overlapping ranges. And each partition internally does not have to be sorted. For partitioning, under normal circumstances, data is tightly packed. The insertion operation first locates the appropriate partition position, then attempts to create a vacant slot within that partition to insert the data. A method known as â€œRipple-Insertâ€ is employed for this purpose. To make room for the new data, each partition steals a position from the head of the subsequent adjacent partition. The adjacent partition then continues to seize a position from its subsequent partition, and so on. This process facilitates the overall adjustment of the data, propagating much like ripples in water.DesignThe partitioning of data is fundamentally a division of contiguous blocks. This is achieved by marking whether a block at a certain position is a partition boundary. Thus, the expression and output of partition division involve outputting the binary values corresponding to the indices of the boundary blocks in the form of a bit-vector.The system maximize performance using run-time workload knowledge.Evaluation and ConclusionFrom Figure 4, it can be learned that delta buffers are enough for read-mostly workload. Casper is suitable for update-mostly workload.Casper, a storage engine has workload-aware optimal colum layout, co-optimize reads and writes through tunable partitioning. It further explores ghost values to insert with minimal data movement. And it offers optimal performance using workload-driven fine-grained decisions.Reference Athanassoulis, M. et al. 2019. Optimal column layout for hybrid workloads. VLDB, 12(13): 2393â€“2407. 2019 [paper][video] Optimal Column Layout for Hybrid Workloads reviews. https://zhuanlan.zhihu.com/p/400225192. Accessed: 2023-09-21." }, { "title": "æŠ˜è…¾è®°å½•ï¼štype stub problem on vscode for python", "url": "/posts/type-stub-of-python/", "categories": "Tool", "tags": "Type Stub, Python", "date": "2023-08-09 00:00:00 +0800", "snippet": "é—®é¢˜Env OS: MacOS Monterey(intel) &amp; Ubuntn22.04 LTS IDE: Vscode 1.80.2 x64 Language: Python 3.11.3 Language server: pylance 0.6.0 Third-party library: Pillow 10.0.0é—®é¢˜æè¿°ä»£ç èƒ½è·‘ï¼Œä½†å¦‚ä½•è®©type inferringè¯†åˆ«widthï¼Œ ä»è€Œæ–¹ä¾¿è‡ªåŠ¨è¡¥å…¨ç­‰åŠŸèƒ½ã€‚è§£å†³åŠæ³•ï¼šä¸çº ç»“TL;DR:åº“æœ¬èº«çš„é—®é¢˜ importing packages without proper stubs/hintsäº”ä¸ªæ–¹æ³•ï¼š æ¢pycharm + æ’ä»¶ï¼ˆvim/vscode keymapï¼‰ï¼ˆå¤§éƒ¨åˆ†æ”¯æŒï¼Œä¹Ÿæœ‰ä¸èƒ½è¡¥å…¨çš„æ—¶å€™ä½†å°‘ä¸€äº›ï¼‰ å…³é—­pylanceï¼Œå²æœˆé™å¥½ï¼ˆè§£å†³ä¸äº†é—®é¢˜ï¼Œå°±ä¸å»å‡ºç°é—®é¢˜çš„åœ°æ–¹ï¼‰ type assert (æœ‰æ—¶èƒ½è§£å†³é—®é¢˜) å…³é—­æŠ¥é”™ä¿¡æ¯(ä¸çœ‹åˆ°æ¼äººçš„æ³¢æµªå·) æ‰‹åŠ¨å¢åŠ .pyistub filesï¼ˆç†è®ºä¸Šèƒ½è§£å†³é—®é¢˜ï¼Œç›®æµ‹å·¥ä½œé‡å¤§ï¼Œç›¸å½“äºæˆä¸ºåº“ä½œè€…ï¼‰åœ¨vscodeä¸Šæ²¡æœ‰å¼€ç®±å³ç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œæ‰€ä»¥ç›®å‰çš„åŠæ³•ï¼ˆ2023.8.9ï¼‰â€”â€”ä¸çº ç»“ï¼Œæˆ–è€…æ¢pycharmã€‚key word: python, pylance, type stubå®Œæ•´çš„è®¨è®ºï¼šCannot access member â€œtoâ€ for type â€œNoneâ€ Member â€œtoâ€ is unknownPylance(reportGeneralTypeIssues) Â· Issue #3494 Â· microsoft/pylance-release (github.com)å…·ä½“çš„ä¾‹å­ï¼šPyspark: cannot access member â€œconfigâ€ for type â€œclasspropertyâ€ Â· Issue #4577 Â· microsoft/pylance-release (github.com)åšè¿‡çš„å°è¯• æ¢IDE: pycharm æ¢ language server: jedi è¯•ä¸åŒçš„åº“ï¼ˆpillow &amp; python-redmineï¼‰ åœ¨ä¸¤ä¸ªæœºå­ä¸Šå¤ç°ï¼ˆmac &amp; linuxï¼‰ æ¢ä¸åŒçš„pythonç‰ˆæœ¬(python3.11 &amp; python 3.8)related concepttype stub problemPython type stubs are a set of type stubs for popular Python packages. These are works in progress from the Microsoft Python team and others, with the intent that they are contributed to typeshed or to the associated packages once sufficiently complete. They are used to ensure that packages have high-quality type annotations. In cases where this must be done through type stubs, they are contributing stubs to typeshed. This repository contains their â€œwork in progressâ€. Once the stubs for a package meet the requirements of typeshed, they will contribute them to typeshed and delete them from this repository1.In case you are facing an issue with Pylance, it is possible that it is a type stub problem. The type Pylance is using for the class may be coming from a type stub2.typeshedTypeshed is a collection of library stubs for Python, with static types. It contains external type annotations for the Python standard library and Python built-ins, as well as third-party packages contributed by people external to those projects1. This data can be used for static analysis, type checking, or type inference2. If youâ€™re using a type checker (such as mypy, pyright, pytype, PyCharm, etc.), you donâ€™t need to interact with the typeshed repository at all: a copy of the standard library part of typeshed is bundled with type checkers2." }, { "title": "ã€è®ºæ–‡åˆ†äº«ã€‘Bigtable", "url": "/posts/bigtable/", "categories": "DBMS", "tags": "NoSql, Paper", "date": "2023-04-15 00:00:00 +0800", "snippet": "èƒŒæ™¯è®ºæ–‡æ•°æ®æ¨¡å‹ç³»ç»Ÿæ¶æ„LSM-treeæ€§èƒ½è¯„ä¼°æ€»ç»“å‚è€ƒæ‹“å±•é˜…è¯»Cloud Data Center CS 494: Cloud Data Center Systems Â· Home Jeff Dean-2009-Slides (cornell.edu) p43-p66, LADISâ€™09 The Google File System (GFS) (slideshare.net) The Google Chubby lock service for loosely-coupled distributed systems (slideshare.net) The google MapReduce (slideshare.net)Bigtable awesome-bigtable: Delightful list of Google Bigtable resources, packages and interesting finds. (github.com) æ·±å…¥æµ…å‡ºhbaseå’Œbigtable - çŸ¥ä¹ (zhihu.com) The Secret Sauce Behind NoSQL: LSM Tree - YouTube Bloom Filters - Algorithms You Should Know #2 - Real-world Examples â€“ YouTubeColossus è°·æ­ŒColossusæ–‡ä»¶ç³»ç»Ÿçš„è®¾è®¡ç»éªŒ - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº A peek behind Colossus, Googleâ€™s file system - Google Cloud Blog Google File SystemåŠå…¶ç»§ä»»è€…Colossus - Blog - Levyâ€™s Inkå‚è€ƒèµ„æ–™ é‚å®‡æ’(2009)ï¼ŒDreaming Infrastructure æˆ‘çš„æ¶æ„å­¦ä¹ ç¬”è®°ï¼Œhttps://www.slideshare.net/kyhpudding/dreaming-infrastructure [â­]Jeff Dean(2005), BigTable: A Distributed Structured Storage System, https://www.youtube.com/watch?v=2cXBNQClehA&amp;ab_channel=FedericoConte å´åš(2022)ï¼Œæ•°æ®æµªæ½®ï¼Œäººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾, ISBN 9787115579249 Sam Zuhuruddin(2017), Bigtable in action, Google Cloud Nextï¼Œ https://www.youtube.com/watch?v=KaRbKdMInuc&amp;t=469s&amp;ab_channel=GoogleCloudTech Girdharee Saran (2021), What is a BigTable? https://www.whizlabs.com/blog/what-is-a-bigtable/ Romain Jacotin(2014), Lecture: The Google Bigtable, https://www2.cs.uic.edu/~brents/cs494-cdcs/slides/thegooglebigtable.pdf Shivaram Venkataraman(2018), CS 744: Big Data Systems, https://pages.cs.wisc.edu/~shivaram/cs744-slides/cs744-bigtable.pdf ByteByteGo(2021), The Secret Sauce Behind NoSQL: LSM Tree - YouTube [â­] J. Dean, â€œDesigns, lessons and advice from building large distributed systems,â€ Keynote from LADIS, vol. 1, 2009.http://iepg.org/iepg/2009-11-ietf76/dean-keynote-ladis2009.pdf é‚å®‡æ’ï¼ˆ2020ï¼‰ï¼ŒBigTable æœ‰ä»€ä¹ˆå€¼å¾—ç§°é“ï¼ˆç‰›ï¼‰çš„åœ°æ–¹ï¼ŸçŸ¥ä¹, https://www.zhihu.com/question/19551534/answer/116874719" }, { "title": "MapReduce", "url": "/posts/mapreduce/", "categories": "Distributed System", "tags": "MapReduce", "date": "2022-08-01 00:00:00 +0800", "snippet": "è®ºæ–‡(TODO)å‚è€ƒèµ„æ–™ 6.824 è®²ä¹‰ 6.824 è§†é¢‘ è®ºæ–‡ ä¸­æ–‡ç¿»è¯‘ è°­æ–°å®‡çš„åšå®¢å®ç°(TODO)" }, { "title": "C++: é¿å…ä½¿ç”¨å•ä¾‹æ¨¡å¼", "url": "/posts/singleton/", "categories": "C++", "tags": "C++, Singleton, Design Pattern", "date": "2022-05-23 00:00:00 +0800", "snippet": "é¿å…ä½¿ç”¨å•ä¾‹æ¨¡å¼ï¼šå…¨å±€å˜é‡é¿å…ä¼ ç»Ÿå•ä¾‹æ¨¡å¼çš„ä»£ç å®ç°ï¼Œä½†æ³¨æ„å•ä¾‹çš„æŠ½è±¡æ–¹æ³•æ˜¯å¯å–çš„ã€‚ç†ç”±ï¼š å…¨å±€å˜é‡ ä¸åˆ©äºå•å…ƒæµ‹è¯• å•ä¾‹æ¨¡å¼çš„æ»¥ç”¨å•ä¾‹æ¨¡å¼æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¤§å·çš„å…¨å±€å˜é‡ã€‚å…¨å±€å˜é‡æ²¡æœ‰è®¿é—®é™åˆ¶ï¼Œå› ä¸ºå®ƒæ²¡æœ‰æ‰€æœ‰æƒï¼Œè¿™å¯¼è‡´ç¨‹åºå‘˜å¾ˆéš¾æ¨æ–­å…¨å±€å˜é‡çš„çŠ¶æ€ï¼Œå½“ä½ è°ƒç”¨åŸºäºä¸€ä¸ªå…¨å±€å˜é‡å‡½æ•°æ—¶ï¼Œå¯èƒ½å¦ä¸€ä¸ªå®ä¾‹åœ¨ä½ æ²¡æœ‰æ„è¯†åˆ°çš„æƒ…å†µä¸‹ï¼Œä¹Ÿè°ƒç”¨äº†å¦ä¸€ä¸ªåŸºäºè¯¥å…¨å±€å˜é‡çš„å‡½æ•°ã€‚æ²¡æœ‰æ‰€æœ‰æƒä¹Ÿå¸¦æ¥äº†å¦ä¸€ä¸ªé—®é¢˜â€”â€”å…¨å±€å˜é‡çš„æ„é€ é¡ºåºä¸è¢«æ ‡å‡†æ‰€å†³å®šã€‚æ¢å¥è¯è¯´ï¼Œåœ¨ä¸åŒæ–‡ä»¶çš„éå±€éƒ¨å˜é‡çš„åˆå§‹åŒ–é¡ºåºå’Œææ„é¡ºåºæ˜¯æœªå®šä¹‰çš„ï¼ˆundefinedï¼‰ï¼Œè¿™ä¸ªé—®é¢˜ä¹Ÿè¢«ç§°ä¸ºStatic initialization order fiascoã€‚å•ä¾‹æ¨¡å¼ä¹Ÿä¼šæ©ç›–ä¾èµ–å…³ç³»ï¼Œä½¿å•å…ƒæµ‹è¯•å˜å¾—å¤æ‚ï¼Œæˆ‘ä»¬å¾ˆéš¾å»mockä¸€ä¸ªå•ä¾‹æ¨¡å¼äº§ç”Ÿçš„å¯¹è±¡ï¼Œå¤¸å¼ ç‚¹è¯´ï¼Œä½¿ç”¨äº†å•ä¾‹æ¨¡å¼å°±æ²¡æœ‰å•å…ƒå¯è¨€ã€‚Mihaiåœ¨åšå®¢ä¸­ä¹Ÿæåˆ°ä¸€ä¸ªä¾‹å­ï¼Œå®é™…ç”Ÿäº§ä¸­ï¼Œå¾€å¾€ä¸æ­¢ä¸€ä¸ªå¯¹è±¡å¯ä»¥ä½œä¸ºå•ä¾‹ï¼Œæ¯”å¦‚æ—¥å¿—å’Œæ–‡ä»¶ç³»ç»Ÿï¼Œä»–ä»¬ä¹‹é—´è¿˜æœ‰ä¾èµ–å…³ç³»ã€‚æ—¥å¿—éœ€è¦æ–‡ä»¶ç³»ç»Ÿæ‰“å¼€æ–‡ä»¶å»è®°å½•ä¿¡æ¯ï¼Œè€Œæ–‡ä»¶ç³»ç»Ÿéœ€è¦æ—¥å¿—è®°å½•æ‰“å¼€äº†å“ªäº›æ–‡ä»¶ã€‚åœ¨å¤„ç†è¿™äº›æƒ…å†µæ—¶ï¼Œå•ä¾‹æ¨¡å¼æ˜¯å¾ˆæ£˜æ‰‹çš„ã€‚Raineråœ¨ä¹¦ä¸­æåˆ°äº†å•ä¾‹æ¨¡å¼ä¸å¥½çš„å£°èª‰ä¹Ÿæ¥è‡ªäºç¨‹åºå‘˜å¯¹å®ƒçš„æ»¥ç”¨ï¼Œå¾ˆå¤šäººä»…ä»…æ˜¯ä¸ºæƒ³è¦è¿ç”¨è®¾è®¡æ¨¡å¼è€Œåº”ç”¨å•ä¾‹æ¨¡å¼ï¼Œä»¥è‡³äºä¼šå‡ºç°æ•´ä¸ªç¨‹åºéƒ½æ˜¯å•ä¾‹æ¨¡å¼çš„æƒ…å†µã€‚æ›¿ä»£æ–¹æ³• åˆ©ç”¨å‘½åç©ºé—´ ä¾èµ–æ³¨å…¥æ¨¡å¼ å¼‚æ­¥å›è°ƒ1.åˆ©ç”¨å‘½åç©ºé—´ä¸€ä¸ªæ›¿ä»£å•ä¾‹æ¨¡å¼çš„æ€è·¯æ˜¯å°†ç±»ä¸­æ‰€ä»¥çš„å‡½æ•°å’Œæ•°æ®æˆå‘˜éƒ½å˜æˆstaticï¼Œä½†è¿™æ ·æœ‰äº›è¿‡åº¦è®¾è®¡äº†ï¼Œå¯ä»¥ç›´æ¥ç”¨å‘½åç©ºé—´æ¥ä»£æ›¿ç±»ï¼Œè¿™æ ·ä»ç±»çš„å†™æ³•ï¼šclass Manager{public: static int blimp_count(); static void add_more_blimps(int); static void destroy_blimp(int);private: static std::vector&lt;Blimp&gt; blimps; static void deploy_blimp();};è½¬å˜æˆï¼šnamespace Manager{ int blimp_count(); void add_more_blimps(int); void destroy_blimp(int);}æ³¨æ„è¿™ç§å†™æ³•ä¹Ÿè¦ç•™å¿ƒä¸Šæ–‡æåˆ°çš„Static initialization order fiascoé—®é¢˜2.ä½¿ç”¨ä¾èµ–æ³¨å…¥æ¨¡å¼ä½¿ç”¨ä¾èµ–æ³¨å…¥ï¼ˆdependency injectionï¼‰æ¨¡å¼æ¥æ›¿ä»£ï¼Œæ›´è¯¦ç»†çš„ä»‹ç»çœ‹Marcï¼ˆ2021ï¼‰åœ¨ä¹¦ä¸­çš„ä»£ç ï¼Œè¿™ä¸ªä¾‹å­ä¸­ILoggerçš„å®ä¾‹é€šè¿‡Fooçš„æ„é€ å‡½æ•°è¢«æ³¨å…¥åˆ°ç±»ä¸­ï¼šclass Foo{public: explicit Foo(ILogger&amp; logger): m_logger { logger } {} void doSomething() { m_logger.log(\"Hello dependency injection!\", ILogger::LogLevel::Info); }private: ILogger&amp; m_logger;}å½“Fooçš„å®ä¾‹è¢«åˆ›å»ºæ—¶ï¼Œä¸€ä¸ªILoggerå®ä¾‹å°±ä¼šè¢«æ³¨å…¥åˆ°å…¶ä¸­ï¼šLogger concreteLogger { \"log.out\"};concreteLogger.setLogLevel(ILogger::LogLevel::Debug);Foo f { concreteLogger };f.doSomething();3.æ”¹è¿›ï¼šåˆ©ç”¨å¼‚æ­¥å›è°ƒçš„æ–¹å¼Mihai(2018)åœ¨åšå®¢ä¸­æåˆ°å—boostå’Œqtä¿¡å·å¯åŠ¨çš„å¼‚æ­¥å›è°ƒçš„æ–¹æ³•ï¼šclass Logger{public: void Log(std::string const&amp; message) { std::cout &lt;&lt; message &lt;&lt; '\\n'; }};class Debugger{public: void Update() { sigLog.emit(\"Debugger updating\") } Signal&lt;void(std::string)&gt; sig_Log;};class Profiler{public: Profiler::Profiler() void Update() { sig_Update.emit() sig_Log.emit(\"Profiler updating\") } Signal&lt;void&gt; sig_Update; Signal&lt;void(std::string)&gt; sig_Log;};class Game{public: Game() : m_logger() , m_debugger() , m_profiler() , m_debuggerLoggerConnection(m_debugger.sig_Log.connect(&amp;Logger::Log, m_logger)) , m_profilerLoggerConnection(m_profiler.sig_Log.connect(&amp;Logger::Log, m_logger)) , m_profilerDebuggerConnection(m_profiler.sig_Update.connect(&amp;Debugger::Update, m_debugger)) {} void Update() { m_profiler.Update(); }private: Logger m_logger; Debugger m_debugger; Profiler m_profiler; Connection m_debuggerLoggerConnection; Connection m_profilerLoggerConnection; Connection m_profilerDebuggerConnection;};éœ€è¦å•ä¾‹çš„è¯ï¼šc++11çš„å®ç°å¦‚æœéœ€è¦ä½¿ç”¨å•ä¾‹æ¨¡å¼çš„è¯ï¼Œå¯ä»¥é€‰æ‹©åˆ©ç”¨c++11 magic staticsç‰¹æ€§å®ç°çš„Meyers Singletonï¼š #include &lt;iostream&gt; #include &lt;cassert&gt; â€‹ class Singleton { public: static Singleton&amp; Instance() { static Singleton instance; return instance; } public: Singleton(const Singleton&amp;) = delete; Singleton(Singleton&amp;&amp;) = delete; Singleton&amp; operator=(const Singleton&amp;) = delete; Singleton&amp; operator=(Singleton&amp;&amp;) = delete; private: Singleton() = default; ~Singleton() = default; }; â€‹ int main() { auto&amp; a = Singleton::Instance(); auto&amp; b = Singleton::Instance(); assert(&amp;a == &amp;b); â€‹ return 0; }magic staticsçš„ç‰¹æ€§ä¿è¯å³ä½¿åœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œteståªä¼šè¢«åˆå§‹åŒ–ä¸€æ¬¡ï¼Œç„¶åè¿™ä¸ªå®ä¾‹ä¼šåœ¨main()å‡½æ•°è¿”å›ä¹‹åè¢«æ‘§æ¯(åœ¨static destruction stageæ—¶)ã€‚Core Guidline æåˆ°ä¸€ä¸ªexceptionï¼Œå°±æ˜¯å°†ä¸Šæ–‡ä¸­çš„Meyers Singletonï¼šX&amp; myX(){ static X my_x {3}; return my_x;}Less simple solutionCore Guidline ä¹Ÿæåˆ°å½“X çš„ææ„æ¶‰åŠåˆ°éœ€è¦åŒæ­¥è¡Œä¸ºæ—¶ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨ä¸€ä¸ªå¤æ‚äº›çš„è§£å†³æ–¹æ¡ˆï¼šX&amp; myX(){ static auto p = new X {3}; return *p; // potential leak}è¿™æ ·åšçš„è¯ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„æ–¹æ³•æ‰‹åŠ¨deleteæ‰è¿™ä¸ªå¯¹è±¡ã€‚å› ä¸ºå®¹æ˜“å‡ºé”™ï¼Œæ‰€ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•æœ‰å‡ ä¸ªå‰ææ¡ä»¶ï¼š myXæ˜¯å¤šçº¿ç¨‹çš„ä»£ç  Xéœ€è¦è¢«æ‘§æ¯ï¼ˆæ¯”å¦‚å®ƒéœ€è¦é‡Šæ”¾èµ„æºï¼‰ï¼Œå¹¶ä¸” Xçš„ææ„å‡½æ•°éœ€è¦åŒæ­¥æ‰§è¡Œã€åæ³¨ä¸€ã€‘å¯¹äºstatic memberçš„åˆå§‹åŒ–ï¼ŒC++æ ‡å‡†ä¿è¯ï¼Œåœ¨åŒä¸€ä¸ªç¼–è¯‘å•å…ƒå†…çš„static memberã€global variableçš„é™æ€åˆå§‹åŒ–å…ˆäºåŠ¨æ€åˆå§‹åŒ–ã€‚ä½†æ˜¯åŒä¸ºé™æ€åˆå§‹åŒ–æˆ–è€…åŒä¸ºåŠ¨æ€åˆå§‹åŒ–çš„æ—¶å€™ï¼Œæ˜¯æŒ‰ç…§å…¶å®šä¹‰çš„é¡ºåºæ¥è¿›è¡Œçš„ã€‚ é™æ€åˆå§‹åŒ–æ˜¯æŒ‡zero initializationæˆ–è€…æ˜¯ç”¨å¸¸é‡è¡¨è¾¾å¼åˆå§‹åŒ–çš„æƒ…å†µï¼Œé™¤æ­¤ä»¥å¤–çš„éƒ½ä¸ºåŠ¨æ€åˆå§‹åŒ–ã€‚ C++æ ‡å‡†3.6.2èŠ‚æœ‰ç›¸å…³æè¿°ã€‚å‚è€ƒèµ„æ–™ï¼š Modern C++ Singleton Template - Code Review Stack Exchange The Issues With Singletons and How to Fix Them - Fluent C++ (fluentcpp.com) C++ Core Guidelines: aovid singletons shared_ptrå’Œunique_ptrå¯å¦ç”¨äºå•ä¾‹æ¨¡å¼ï¼Ÿ - çŸ¥ä¹ (zhihu.com) Marc Gregoire - Professional C++ - Wiley (2021) ç¬¬1106 - 1108é¡µ Meyers, S, 1998. Effective C++. Reading, MA: Addison-Wesley What are drawbacks or disadvantages of singleton pattern? - Stack Overflow C++ä¸­å¤šçº¿ç¨‹ä¸Singletonçš„é‚£äº›äº‹å„¿ - origins - åšå®¢å›­ (cnblogs.com) Rainer Grimm - C++ Core Guidelines Explained_Best Practices for Modern C++ - Addison-Wesley (2022)" }, { "title": "Xmakeå…¥é—¨:é€šè¿‡xmakeåœ¨vscodeä¸Šç¼–å†™c/c++é¡¹ç›®", "url": "/posts/xmake-study/", "categories": "C++, æ„å»ºç³»ç»Ÿ", "tags": "Study, C++, Xmake", "date": "2022-05-01 00:00:00 +0800", "snippet": "é¦–å…ˆï¼Œå­¦ä¹ ä¸‹å…¥é—¨æ•™ç¨‹ ç¬¬ä¸€æ­¥ï¼Œã€è§†é¢‘ã€‘Xmake çš„å®‰è£…å’Œä½¿ç”¨ ç¬¬äºŒæ­¥ï¼Œã€è§†é¢‘ã€‘åœ¨ VSCode ä¸­ä½¿ç”¨ Xmake è¿›è¡Œ C/C++ ç¨‹åºå¼€å‘ç°åœ¨ä½ å°±æŒæ¡xmakeåœ¨vscodeä¸Šçš„åŸºæœ¬ä½¿ç”¨äº†ï¼Œå¦‚æœä½ æƒ³äº†è§£æ›´å¤šï¼Œæ¬¢è¿æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘çš„ç¬”è®°æˆ–è®¸ä½ ä¹Ÿæƒ³äº†è§£ä¸€ä¸‹cmakeï¼Œè¿™é‡Œæœ‰å…¥é—¨çš„ä»‹ç»å¸¸è§é—®é¢˜Qï¼šwinä¸Šçš„xmakeå¦‚ä½•å®‰è£…ï¼Ÿé€šè¿‡ç®¡ç†å‘˜èº«ä»½ä¸‹powershellçš„å‘½ä»¤ï¼ŒQï¼šwinä¸Šå®‰è£…è„šæœ¬æ—¶æç¤ºâ€œå› ä¸ºåœ¨æ­¤ç³»ç»Ÿä¸Šç¦æ­¢è¿è¡Œè„šæœ¬â€è§£å†³åŠæ³•å› ä¸ºåœ¨æ­¤ç³»ç»Ÿä¸Šç¦æ­¢è¿è¡Œè„šæœ¬çš„è§£å†³ - ä¸Šå®˜é£é¸¿ - åšå®¢å›­ (cnblogs.com)ã€å·²è§£å†³ã€‘cnpm : æ— æ³•åŠ è½½æ–‡ä»¶ C:UsersAppDataRoaming pmcnpm.ps1ï¼Œå› ä¸ºåœ¨æ­¤ç³»ç»Ÿä¸Šç¦æ­¢è¿è¡Œè„šæœ¬_åä»”ä»”codingçš„åšå®¢-CSDNåšå®¢_cnpmæ— æ³•åŠ è½½" }, { "title": "VSCode/C++æ’ä»¶åˆ†äº«", "url": "/posts/vscode-plugin/", "categories": "Tool, VSCode", "tags": "Configuration, VSCode, C++", "date": "2022-04-23 00:00:00 +0800", "snippet": " å…¥é—¨vscodeæ¨èè§†é¢‘ ä½¿ç”¨ VS Code + Clangd + CMake æ­å»º C/C++å¼€å‘ç¯å¢ƒæ’ä»¶åˆ—è¡¨äººäººå¤¸ï¼Œä¸€æœä¸€å¤§å † project manager peacock vim gitlens Code Runner bookmarks todo tree tabout better comments Wakatime â€¦ å°ä¼—ä¸€äº›çš„ codecommand Running Visual Studio Code on Linux tabnine copilot error lens easy snippet snippetæ ·ä¾‹ å¿«æ·é”®è®¾ç½® vscode snippetè¯­æ³• [Snippets in Visual Studio Code] C++ helper é‡è¦ xmake\\cmake é€šè¿‡xmakeåœ¨vscodeä¸Šç¼–å†™c/c++é¡¹ç›® ç¼–è¯‘é€‰é¡¹:C++ Diagnostic Basics: Warnings, Assertions, Testing clangd clang-format clang-tidy æ–°ç‰ˆç¼–è¯‘å™¨ ç”»å›¾ draw.io PlantUML å°å·¥å…· String Manipulation Diff Viewer Sort Lines é™„ä»¶ä»“åº“åœ°å€: https://github.com/yueneiqi/share_vscode_plugin" }, { "title": "Cmakeå­¦ä¹ å†ç¨‹", "url": "/posts/cmake-study/", "categories": "C++, æ„å»ºç³»ç»Ÿ", "tags": "Study, C++, Cmake", "date": "2021-07-23 00:00:00 +0800", "snippet": " CMake - CSè‡ªå­¦æŒ‡å— (csdiy.wiki) xmake(å®˜ç½‘)(æ•™ç¨‹) ç°ä»£C++ä¸­çš„é«˜æ€§èƒ½å¹¶è¡Œç¼–ç¨‹ä¸ä¼˜åŒ–-ç¬¬ä¸€è®²åŠå…¶ä½œä¸šï¼Œå†åŠ ä¸Šåç»­çš„ç°ä»£CMakeè¿›é˜¶æŒ‡å—å‚è€ƒèµ„æ–™ï¼š ã€ŠCMakeèœè°±ï¼ˆCMake Cookbookä¸­æ–‡ç‰ˆï¼‰ã€‹ é¡¹ç›®å‚è€ƒï¼šcmu-db/bustubï¼Œæ•´ä½“æ¡†æ¶ é¡¹ç›®å‚è€ƒï¼šconfig-loaderï¼Œç¬¬ä¸‰æ–¹åº“çš„é“¾æ¥æ–¹å¼ é¡¹ç›®å‚è€ƒï¼šcephï¼Œå¯¹äºspdkå’Œdpdkç­‰ç¬¬ä¸‰æ–¹åº“çš„é“¾æ¥æ–¹å¼ï¼ŒFind*.cmakeå’ŒBuild*.cmake" }, { "title": "ã€æŒç»­æ›´æ–°ã€‘C++å­¦ä¹ èµ„æ–™", "url": "/posts/cpp-reference/", "categories": "C++", "tags": "Study, C++", "date": "2021-04-15 00:00:00 +0800", "snippet": "c++çš„èµ„æ–™éå¸¸å¾—å¤šï¼Œç»å…¸ä¹¦å•ä¸å†èµ˜è¿°ï¼Œè¿™é‡Œè¡¥å……ä¸€äº›è‡ªå·±çš„ä½“ä¼šã€‚å¿…çœ‹ï¼š hacking C++ç³»ç»Ÿå…¨é¢çš„c++å­¦ä¹ ç½‘ç«™ï¼Œæ•´åˆäº†å¾ˆå¤šèµ„æºï¼Œæ–°æ‰‹å‹å¥½ï¼ˆBeginnerâ€™s Guideï¼‰èƒ½æŠ“ä½modern C++(C++17)ä¸»å¹²ï¼Œæ–¹ä¾¿å…¥é—¨çš„ï¼š cs106Lã€è§†é¢‘ã€‘æ–¯å¦ç¦modern C++(C++17)è¯¾ç¨‹ ã€å¿«é€Ÿå­¦ä¹ Cå’ŒC++ï¼ŒåŸºç¡€è¯­æ³•å’Œä¼˜åŒ–ç­–ç•¥(å—ç§‘å¤§è®¡ç®—æœºç³»)ã€‘ ã€Šç°ä»£ C++ æ•™ç¨‹: é«˜é€Ÿä¸Šæ‰‹ C++ 11/14/17/20ã€‹ã€‹æ­£å¦‚ä¹¦åæ‰€è¯´ï¼Œç²¾ç®€çš„ç¬”è®°è¿›ä¸€æ­¥çš„å­¦ä¹ èµ„æ–™ï¼š å€™æ·ç³»åˆ—ç½‘è¯¾ ã€å½•æ’­ã€‘ç°ä»£C++ä¸­çš„é«˜æ€§èƒ½å¹¶è¡Œç¼–ç¨‹ä¸ä¼˜åŒ–ï¼ˆæŒç»­æ›´æ–°ä¸­ï¼‰ C++ Core Guidelines(2022) cpp-fundamentals-for-professionals ï¼ˆC++17ï¼‰å¾ˆå¥½çš„è®²ä¹‰ï¼Œå¾ˆå¤šå¯ä»¥åœ¨ç½‘é¡µä¸Šè¿è¡Œçš„ä»£ç ä¾‹å­å’Œå°ç»ƒä¹  Professional C++ 5th, 21å¹´å‡ºçš„ç¬¬äº”ç‰ˆï¼Œæ–°çš„æ€»æ˜¯å¥½çš„ï¼Œå…¨é¢ç³»ç»Ÿï¼Œæ—¶å¸¸æ£€ç´¢çš„å‚è€ƒä¹¦ï¼Œä¸­è¯‘æœ¬è§ã€ŠC++20é«˜çº§ç¼–ç¨‹(ç¬¬5ç‰ˆ)ã€‹ã€‚æ—¥å¸¸å­¦ä¹  cppcon å¤§ç‰›ä»¬çš„è®²åº§åˆé›†; Back to Basicsç³»åˆ—é€‚åˆä½œä¸ºå…¥é—¨å­¦ä¹ çš„è¡¥å……è¯¾ç¨‹ C++ Weeklyæ¨èæ–‡ç« åˆé›† RAII move semantic Advantages of pass-by-value and std::move over pass-by-reference ä»€ä¹ˆæ˜¯moveï¼Ÿç†è§£C++ Value categoriesï¼Œmoveï¼Œ move in Rust C++: å†è°ˆmoveï¼Œå³å€¼å¼•ç”¨çš„ç”±æ¥ å…³äºmodern C++ï¼ˆC++11/14/17/20ï¼‰ åœ¨modern c++ä¸­ï¼Œsingletonè®¾è®¡æ¨¡å¼ä¸æ¨èï¼Œåº”è¯¥å°½é‡ä½¿ç”¨Dependency injectionæ¥æ›¿ä»£ï¼Œå¦‚æœæƒ³ç”¨singletonï¼Œc++11ä¹‹åçš„å®ç°è´´åœ¨è¿™é‡Œ ï¼ˆ2022.5ï¼‰åœ¨clangå’Œgccä¸Šä½¿ç”¨c++20 moduleç‰¹æ€§å¾ˆéº»çƒ¦ï¼Œintellisense æ²¡æœ‰å¾ˆå¥½çš„æ”¯æŒï¼Œå»ºè®®è·³è¿‡è¿™ä¸ªéƒ¨åˆ†" }, { "title": "2021Q1 è®¡ç®—æœºè¯¾ç¨‹å­¦ä¹ æ€»ç»“", "url": "/posts/cs-study-record/", "categories": "å­¦ä¹ , è¯¾ç¨‹", "tags": "Study", "date": "2021-04-02 00:00:00 +0800", "snippet": "å»å¹´å› ä¸ºèƒ¡ç¥å…³æ³¨äº†è¿™äº›å›½å¤–è¯¾ç¨‹ï¼Œä½†å› ä¸ºå„ç§åŸå› ä»Šå¹´æ‰åˆšåˆšå¼€å§‹ï¼Œæ„Ÿè§‰å¦‚æœè‹±è¯­é˜…è¯»å’Œå¬åŠ›ä¸é”™ï¼Œå¬å¬è¿™äº›è¯¾ç¨‹æ˜¯å¾ˆå¥½çš„é€‰æ‹©ã€‚è®°å½•ä¸€ä¸‹è‡ªå·±å­¦ä¹ çš„è¿‡ç¨‹å§ã€‚The Missing Semester of Your CS Educationå¬äº†å¾ˆå¤šæ¬¡ï¼Œæ¯æ¬¡éƒ½æœ‰æ–°æ”¶è·ï¼šç¬¬ä¸€æ¬¡çš„æ—¶å€™åˆšæƒ³å…¥é—¨ï¼Œå¬å¾—æ‡µæ‡µçš„ï¼Œå†™é‡Œé¢çš„ä½œä¸šï¼Œå¡åœ¨bashè„šæœ¬é‚£é‡ŒåŠå¤©æƒ³ä¸é€šå°±æ”¾å¼ƒäº†ã€‚åé¢ç”¨äº†linuxå’Œvimï¼Œå†çœ‹è¿™ä¸ªè¯¾è§‰å¾—å¸®åŠ©å¾ˆå¤§ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œè¿™ä¸ªè¯¾æ›´åƒæ˜¯æœ‰ç€è¯¦ç»†ä»‹ç»çš„ç´¢å¼•ï¼Œæƒ³è¦ç°åœ¨åƒé€å®ƒæ˜¯å¾ˆéš¾å¾—ï¼Œæ¯æ¬¡å¸æ”¶ä¸€äº›ï¼Œæ•ˆç‡éƒ½ä¼šæœ‰æå‡ï¼Œè®²ä¹‰é‡Œå„ç§é“¾æ¥æå¤§å¾—ä¸°å¯Œäº†è¿™ä¸ªè¯¾ç¨‹ï¼Œè®©æˆ‘æœ‰äº†å¾ˆå¤šå·¥å…·å»è£…ï¼ˆå·¥å…·æ§ç¦éŸ³ï¼‰ã€‚å¯¹äºæ–°æ‰‹ï¼ˆæˆ‘ï¼‰æ¥è¯´ï¼Œæœ‰ç”¨çš„ç‚¹linuxå…¥é—¨ï¼šè®²ä¹‰æ˜¯å¾ˆå¥½çš„æ–°æ‰‹å…¥é—¨å¿«æŸ¥è¡¨ã€‚oh-my-zshåŠshellè„šæœ¬ï¼šçœ‹åˆ°zshçš„è‡ªåŠ¨è¡¥å…¨å°±å¾ˆæƒ³ç”¨ï¼Œåæ¥å‘ç°äº†oh-my-zshï¼Œå¤ªé¦™äº†ï¼Œè‡ªå¸¦gitçŠ¶æ€æ˜¾ç¤ºï¼Œå¾ˆå¤šè‡ªå¸¦çš„æ’ä»¶ï¼Œä¸¤ä¸‹escè‡ªåŠ¨è¡¥sudoä¹‹ç±»çš„ã€‚å·¥å…·æ§ç‹‚å–œï¼Œç”¨å®ƒå†™zshè„šæœ¬ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œåœ¨éƒ½åœ¨ä¸€ä¸ª.zshæ–‡ä»¶é‡Œå†™ä¸ªå‡½æ•°å°±è¡Œäº†ã€‚å¾ˆå¤šé‡å¤çš„å·¥ä½œï¼Œæˆ‘ç°åœ¨éƒ½ä¼šå†™ä¸ªå‘½ä»¤æ¥æå®šã€‚å†™è„šæœ¬çš„æ—¶å€™æˆ‘ä¼šç”¨è¿™ä¸ªæ•™ç¨‹å‚è€ƒshellçš„è¯­æ³•ï¼ŒåŒæ—¶ç”¨shellcheckæ£€æŸ¥ï¼Œè¿™ä»½shellçš„cheetsheetä¹ŸæŒºæœ‰ç”¨çš„ã€‚ä¸€äº›ç¤ºä¾‹ã€‚dotfileï¼šç¬¬ä¸€æ¬¡ä¸ç†è§£ï¼Œæƒ³æä½†ä¸çŸ¥é“æ˜¯åšå•¥çš„ï¼Œåˆ°åé¢æŠ˜è…¾vimå’Œzshçš„é…ç½®æ–‡ä»¶ï¼Œå†åŠ ä¸Šæˆ‘åœ¨macä¸Šè£…äº†linuxè™šæ‹Ÿæœºï¼Œæ€ä¹ˆæ ·åŒæ­¥é…ç½®æ˜¯æˆ‘ä¸€ä¸ªå¾ˆéš¾å—çš„ç‚¹ï¼Œè¿™æ—¶å€™å†çœ‹åˆ°dotfileå°±è±ç„¶å¼€æœ—äº†ï¼Œä¹Ÿèµ°äº†å¾ˆå¤šå‘ï¼Œæœ€åç”¨äº†å‚è€ƒæ¡ˆä¾‹ä¸­çš„ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼ˆæˆ‘çš„ç¬”è®°ï¼‰ï¼Œä¸­é—´æˆ‘çš„linuxå´©äº†ä¸€æ¬¡é‡è£…äº†ï¼Œæ­£å¥½æœ‰äº†dotfileçœäº†æˆ‘å¾ˆå¤šäº‹ã€‚gitï¼šé…åˆoh-my-zshçš„é›†æˆæç¤ºï¼Œå¾ˆé¦™ã€‚vimï¼šç¬¬ä¸€æ¬¡çœ‹çš„æ—¶å€™å°±åªæ˜¯çœ‹çœ‹ï¼Œè§‰å¾—æŒºå‰å®³çš„ä½†ç„¶å¹¶è½¯ï¼Œä¸ç»ƒç­‰äºç™½çœ‹ã€‚åé¢å¼€å§‹ä½¿ç”¨vimï¼Œç”±æ­¤ä¸ºå¥‘æœºå†æ­¤çœ‹äº†è¿™ä¸ªè¯¾ï¼Œè§‰å¾—å¾ˆæœ‰ç”¨ï¼Œæ¯”èµ·å¬æ•™ç¨‹å­¦vimï¼Œä¸å¦‚åšä¸€ä¸‹vimtutorialï¼ŒæŸ¥ä¸€ä¸‹è®²ä¹‰ï¼Œæˆ–è€…googleä¸€ä¸‹ï¼Œä¸Šæ‰‹ä¼šå¿«å¾ˆå¤šã€‚å…¥é—¨ä¹‹åï¼Œæˆ‘ä¹Ÿç”¨äº†vimpluså’Œvscode+vimæ’ä»¶ï¼Œè§‰å¾—åè€…æ›´é¦™ï¼Œé™¤äº†å¯¹çº¯é”®ç›˜æ“ä½œä¸æ„Ÿå†’å¤–ï¼Œåœ¨å®‰è£…vimplusæœ¬èº«å’Œä¸€äº›æ’ä»¶çš„å„ç§é”™è¯¯ä¹Ÿæ˜¯ç»™æˆ‘ç•™ä¸‹äº†å¾ˆæ·±çš„æ€¨å¿µï¼Œä½†è¿™ä¸æ„å‘³ç€vscodeçš„ä¸Šæ‰‹é…ç½®å°±å¾ˆè½»æ¾ï¼Œä¹Ÿæ˜¯æŒºè´¹åŠ²çš„ã€‚æ•´ä½“æ„Ÿè§‰ä¸‹æ¥ï¼Œvscodeæ›´å¯¹æˆ‘çš„å£å‘³å§ã€‚å¯æƒœäº†èŠ±åœ¨.vimrcçš„æ—¶é—´ã€‚vscodeè‡ªå¸¦çš„ç»ˆç«¯è™½ç„¶å¾ˆæ–¹ä¾¿ï¼Œä½†æ€§èƒ½æœ‰ç‚¹æ‹‰å®ï¼Œç”¨tmuxåˆšå¥½å¯ä»¥å¼¥è¡¥è¿™ä¸ªç¼ºé™·ã€‚æ­£åˆ™è¡¨è¾¾å¼ï¼šæ¨èçš„ç»ƒä¹ ä¸é”™ï¼Œæˆ‘æŒºçˆ±ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„ï¼Œgrep -Eã€‚valgrindï¼šæ­£å¥½æˆ‘çš„å…¥é—¨è¯­è¨€æ˜¯cå’Œc++ï¼Œè¿™ä¸ªå·¥å…·åœ¨å†…å­˜æ³„éœ²å’Œå˜é‡æœªåˆå§‹åŒ–çš„é—®é¢˜ä¸Šå¸®åŠ©å¾ˆå¤§ã€‚cs50xä»2æœˆä¸­æ—¬å¼€å§‹åˆ°4æœˆ2æ—¥ç»“æŸï¼Œè€—æ—¶ï¼šï¼ˆè‡³å°‘ï¼‰60å°æ—¶++ä½œä¸šè´¨é‡é«˜ï¼Œæœ‰é˜¶æ¢¯ï¼Œä»‹ç»è¯¦ç»†ï¼Œè¿˜æœ‰å¾ˆå¤šæç¤ºå’Œå¸®åŠ©ï¼Œé€‚åˆè‡ªå­¦å®Œæˆä½œä¸š+æœ‰åŠ©äºç†Ÿæ‚‰vscodeå’Œc/c++çš„è°ƒè¯•æµç¨‹+TODOç­‰æ³¨é‡Šæ ‡ç­¾æ€è·¯å†™ä»£ç çš„ä¹ æƒ¯å…»æˆ+è¦†ç›–å†…å®¹å¹¿c python sql å‰ç«¯ä¸‰å¤§ä»¶html css jséå¸¸å¥½çš„å…¥é—¨å¯¼è®ºè¯¾ç¨‹ï¼Œå› ä¸ºæœ‰åŸºç¡€ï¼Œæ‰€ä»¥å‰åŠéƒ¨åˆ†çš„è¯¾ç¨‹è·³ç€å¬ç€ç©äº†ï¼Œè€å¸ˆçš„è¯¾è®²å¾—å¾ˆå¥½ï¼ŒèŠ‚å¥å¾ˆç´§å‡‘ã€‚é¢˜å¤–è¯å°±æ˜¯è¿™ä¸ªè¯¾çš„åŒ…è£…å’Œå½±è§†åˆ¶ä½œéƒ½å¤ªå¼ºäº†ï¼Œçœ‹åˆ°æœ€åå‘ç°è¿™æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„å›¢é˜Ÿåœ¨åšå°±äº†ç„¶äº†ï¼Œæƒ³åˆ¶ä½œå‡ºè¿™ç§è¯¾ç¨‹èƒŒåçš„ä»˜å‡ºå´æ˜¯å¾ˆå¤§CSE 251 Programming in Cå°±æˆ‘èƒ½åšçš„ä½œä¸šè€Œè¨€ï¼ˆä¸€åŠçš„labå’Œproj1ï¼‰ï¼Œæ˜¯ä¸€ä¸ªéš¾åº¦ç®€å•ï¼Œæ•™ç¨‹è¯¦ç»†çš„cè¯­è¨€å…¥é—¨è¯¾ç¨‹+è¯¦ç»†çš„æ‰‹æŠŠæ‰‹æ•™å­¦ +Makefileçš„ç®€æ˜“å…¥é—¨-ååŠéƒ¨åˆ†çš„projå’Œlabä¾èµ–è¾ƒè€çš„åº“ï¼Œå¾ˆæŠ˜è…¾äº†åŠå¤©ä¹‹åä¹Ÿæ²¡å†™æˆå› ä¸ºæœ‰åŸºç¡€ï¼Œæ‰€ä»¥é‡Œé¢çš„ä¸€äº›ä½œä¸šå’Œå†…å®¹ç›¸å¯¹è€Œè¨€å°±å¤ªç®€å•äº†ã€‚å‘çš„ä¸€ç‚¹å°±æ˜¯ï¼Œå¤ªæƒ³åšproj2è£…äº†ä¸€å¤©çš„ç¯å¢ƒä¹Ÿæ²¡è£…å¥½ï¼Œåé¢çœ‹è§éœ€è¦ä¾èµ–å›¾å½¢åº“çš„ä½œä¸šå°±æœæ–­æ”¾å¼ƒï¼Œå‘ç°ä¹Ÿå°±æ²¡å•¥èƒ½åšçš„äº†ï¼Œè¿˜æ˜¯è¿™é—¨è¯¾å¤ªè€äº†ï¼Œæƒ³å»è£…è€çš„ç¯å¢ƒåè€Œå¾ˆç¹çï¼ŒæŠ˜è…¾äº†å¤§åŠå¤©ä¹Ÿæ²¡æˆåŠŸï¼Œå¦‚æœèƒ½åšä¸Šçš„è¯ï¼Œè§‰å¾—ä¼šå¯¹è¿™é—¨è¯¾çš„è¯„ä»·ä¼šé«˜æ›´å¤šï¼ˆçœ‹èµ·æ¥å¾ˆæœ‰æ„æ€ï¼‰ï¼ŒçœŸçš„å¾ˆæƒ³åšç”µæ¢¯ã€è½¦åº“å’Œæœºå™¨äººå•Šâ€¦.å°è±¡æœ€æ·±çš„è¯¥å°±æ˜¯wumpusäº†å§" }, { "title": "æ±‡ç¼–è¯­è¨€å›¾è§£â€”â€”ä¸€ä¸ªç®€å•çš„ä¾‹å­", "url": "/posts/assembly/", "categories": "å­¦ä¹ , æ‚è®°", "tags": "Study, Assembly", "date": "2021-03-03 00:00:00 +0800", "snippet": "æ€»è§ˆmain()func1()func2()å†…å®¹é‡å¤ï¼Œç•¥func3()main()" }, { "title": "VSCodeç»ˆç«¯å­—ä½“è®¾ç½®ï¼šNerd Fonts", "url": "/posts/vscode-terminal/", "categories": "Tool, VSCode", "tags": "Configuration, VSCode", "date": "2021-02-27 00:00:00 +0800", "snippet": "åœ¨vscodeä¸Šè®¾ç½®é€‚é…vimå’Œoh-my-zshçš„å­—ä½“ï¼Œä»è€Œè§£å†³å­—ä½“ä¸èƒ½æ­£ç¡®æ˜¾ç¤ºçš„é—®é¢˜æ–¹æ³•å¦‚ä¸‹ï¼š1.å®‰è£…Powerline fontsè¿™æ˜¯ä¸€ä¸ªå­—ä½“åŒ…çš„å®‰è£…ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç™¾åº¦å»ä¸‹å•ä¸ªå­—ä½“ã€‚Debian/Ubuntuç­‰åŸºäºLinuxçš„ç¯å¢ƒï¼šsudo apt-get install fonts-powerlineå…¶ä»–ç¯å¢ƒï¼Œå¦‚macï¼š# clone ä¸‹è½½git clone https://github.com/powerline/fonts.git --depth=1# install å®‰è£…cd fonts./install.sh# clean-up a bit åˆ é™¤å®‰è£…åŒ…cd ..rm -rf fontsï¼ˆå¯é€‰ï¼‰æŸ¥çœ‹å­—ä½“åº“cd ~/Library/Fontså¯ä»¥çœ‹åˆ°æœ‰å¾ˆå¤šå¸¦for powerlineçš„å­—ä½“ï¼Œæ„Ÿå…´è¶£ä¹Ÿå¯ä»¥è‡ªå·±å°è¯•ä¸€ä¸‹ï¼Œåœ¨vscodeçš„ä½¿ç”¨æ ¼å¼å¦‚ä¸‹æ–‡ã€‚2.è®¾ç½®åœ¨è®¾ç½®æ ä¸­è¾“å…¥ï¼šDroidSansMono Nerd Fontå‚è€ƒï¼šVScodeç»ˆç«¯å­—ä½“è®¾ç½® - ç®€ä¹¦ (jianshu.com)è½¬è½½ï¼šPowerline fonts å­—ä½“å®‰è£… - ç®€ä¹¦ (jianshu.com)" } ]
